<app-menu-fm></app-menu-fm>

<div class="wrapper">

    <ngx-spinner name="crmSpinner" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="square-loader"
        [fullScreen]="true">
        <p style="color: white"> Cargando ... </p>
    </ngx-spinner>

    <div class="content-wrapper">

        <div class="card" *ngIf="idEventoSelected && idEventoSelected != 0">

            <div class="card-body">
                <mat-tab-group mat-align-tabs="center">
                    <mat-tab>
                        <ng-template mat-tab-label>
                            <mat-icon class="iconTab">contact_phone</mat-icon> Mi cartera
                        </ng-template>
                        <div class="col-lg-12 row mt-3">
                            <div class="col-lg-3">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <mat-form-field class="example-form-field ancho" style="font-size: 12px;">
                                            <input matInput placeholder="Busca un cliente" [(ngModel)]="searchModel"
                                                (keyup)="buscador()">
                                            <mat-icon matSuffix>search</mat-icon>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-lg-6">
                                        <mat-form-field class="ancho" style="font-size: 12px;">
                                            <mat-label style="font-size: 11px;">Busca por prioridad</mat-label>
                                            <mat-select [(ngModel)]="searchPrioridad" name="searchPrioridad"
                                                style="font-size: 12px;" (selectionChange)="buscarPrioridad()">
                                                <mat-option value="0" selected>Todos</mat-option>
                                                <mat-option value="2">Alta</mat-option>
                                                <mat-option value="1">Media</mat-option>
                                                <mat-option value="3">Baja</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-9">
                                <div class="progress rounded elevation-1 puntero"
                                    style="height: 35px; font-size: 12px;">
                                    <div class="progress-bar-striped progress-bar-animated bg-danger form-inline"
                                        role="progressbar" style="width: 33.3%" aria-valuenow="25" aria-valuemin="0"
                                        aria-valuemax="100" (click)="filtrarEstatusEmbudo(0)">
                                        <div class="ml-2">Prospecto</div>
                                        <div class="ml-auto mr-3" style="font-size: 14px;"><b>{{countProspecto}}</b>
                                        </div>
                                    </div>
                                    <div class="progress-bar-striped progress-bar-animated bg-orange form-inline"
                                        role="progressbar" style="width: 33.3%" aria-valuenow="25" aria-valuemin="0"
                                        aria-valuemax="100" (click)="filtrarEstatusEmbudo(1)">
                                        <div class="ml-2">Contactado</div>
                                        <div class="ml-auto mr-3" style="font-size: 14px;"><b>{{countContactado}}</b>
                                        </div>
                                    </div>
                                    <div class="progress-bar-striped progress-bar-animated bg-warning form-inline"
                                        role="progressbar" style="width: 33.3%" aria-valuenow="20" aria-valuemin="0"
                                        aria-valuemax="100" (click)="filtrarEstatusEmbudo(2)">
                                        <div class="ml-2">Posible <br>
                                            cliente</div>
                                        <div class="ml-auto mr-3" style="font-size: 14px;">
                                            <b>{{countPosibleCliente}}</b>
                                        </div>
                                    </div>
                                    <div class="progress-bar-striped progress-bar-animated bg-primary form-inline"
                                        role="progressbar" style="width: 33.3%" aria-valuenow="20" aria-valuemin="0"
                                        aria-valuemax="100" (click)="filtrarEstatusEmbudo(3)">
                                        <div class="ml-2">Cotizado</div>
                                        <div class="ml-auto mr-3" style="font-size: 14px;">
                                            <b>{{countCotizado}}</b>
                                        </div>
                                    </div>
                                    <div class="progress-bar-striped progress-bar-animated bg-secondary form-inline"
                                        role="progressbar" style="width: 33.3%" aria-valuenow="20" aria-valuemin="0"
                                        aria-valuemax="100" (click)="filtrarEstatusEmbudo(4)">
                                        <div class="ml-2">Cotización<br>rechazada</div>
                                        <div class="ml-auto mr-3" style="font-size: 14px;">
                                            <b>{{countCotizacionR}}</b>
                                        </div>
                                    </div>
                                    <div class="progress-bar-striped progress-bar-animated bg-success form-inline"
                                        role="progressbar" style="width: 33.3%" aria-valuenow="20" aria-valuemin="0"
                                        aria-valuemax="100" (click)="filtrarEstatusEmbudo(5)">
                                        <div class="ml-2">Cotización<br>aceptada</div>
                                        <div class="ml-auto mr-3" style="font-size: 14px;">
                                            <b>{{countCotizacionA}}</b>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="row col-lg-12">
                            <div class="col-lg-3">
                                <div class="row text-center" *ngIf="validRol == false">
                                    <div class="col-lg-6">
                                        <button class="btn btn-xs btn-light elevation-1 btnresponsive"
                                            (click)="filtroCartera('a')"><i class="fas fa-user-check"></i> Mis clientes
                                        </button>
                                    </div>
                                    <div class="col-lg-6">
                                        <button class="btn btn-xs btn-light elevation-1 btnresponsive"
                                            (click)="filtroCartera('b')"><i class="fas fa-users"></i> Clientes Generales
                                        </button>
                                    </div>
                                </div>
                                <div class="row col-lg-12 text-center" *ngIf="validRol == true">
                                    <div class="col-lg-6">
                                        <button class="btn btn-xs btn-light mt-auto mb-auto elevation-1 btnresponsive"
                                            (click)="filtroCartera('b')"><i class="fas fa-users"></i> Clientes Generales
                                        </button>
                                    </div>
                                    <div class="col-lg-6">
                                        <mat-form-field class="ancho" style="font-size: 1px; ">
                                            <mat-select style="font-size: 11px;" [(ngModel)]="searchVendedores"
                                                (selectionChange)="filtroVendedor()">
                                                <mat-option [value]="0">Selecciona un vendedor</mat-option>
                                                <mat-option *ngFor="let vend of vendedores" [value]="vend.id">
                                                    {{vend.nombre}}</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div class="card bg-light elevation-2 mt-2">
                                    <div class="card-body scrollerOsqi p-0" style="font-size: 12px;">
                                        <div id="misExpositores" *ngIf="clientes === 'a'">
                                            <mat-accordion class="example-headers-align">
                                                <mat-expansion-panel *ngFor="let exp of paisesFiltrados;">
                                                    <mat-expansion-panel-header>
                                                        <mat-panel-title *ngIf="!exp">
                                                            Sin país
                                                        </mat-panel-title>
                                                        <mat-panel-title *ngIf="exp != ''">
                                                            {{exp}}
                                                        </mat-panel-title>

                                                        <span
                                                            class="mr-2 text-secondary">({{countPaisMisClientes(exp)}})
                                                        </span>

                                                    </mat-expansion-panel-header>


                                                    <mat-form-field class="ancho mb-2" appearance="outline">
                                                        <mat-label>Selecciona un estado</mat-label>
                                                        <mat-select style="font-size: 12px;"
                                                            [(ngModel)]="selectEstadosCollapsible"
                                                            (selectionChange)="cambiarPais()">
                                                            <mat-option [value]="'0'">Todos</mat-option>
                                                            <mat-option *ngFor="let estado of estadosFiltrados"
                                                                [value]="estado">
                                                                {{estado}} ({{countEstadoMisClientes(estado,
                                                                exp)}})</mat-option>
                                                        </mat-select>
                                                    </mat-form-field>


                                                    <div *ngFor="let exp2 of (misClientes2 | filterEstados: exp)">
                                                        <div class="puntero"
                                                            [ngClass]="{'btnClienteSelected': exp2.expositor.id == idSelect}"
                                                            (click)="miExpositorSelected(exp2.expositor.id)">
                                                            <div class="col-lg-12 ContenedorText textdecor">
                                                                <b>{{exp2.expositor.nombre_comercial}}</b>
                                                            </div>
                                                            <div class="row" style="font-size: 10px;">
                                                                <div class="col-lg-7">

                                                                    <div class="badge badge-white border border-dark"
                                                                        *ngIf="exp2.expositor.prioridad == 0">
                                                                        <b>B</b>
                                                                    </div>
                                                                    <div class="badge badge-white border border-dark"
                                                                        *ngIf="exp2.expositor.prioridad == 1">
                                                                        <b>M</b>
                                                                    </div>
                                                                    <div class="badge badge-white border border-dark"
                                                                        *ngIf="exp2.expositor.prioridad == 2">
                                                                        <b>A</b>
                                                                    </div>

                                                                    <div class="badge badge-danger"
                                                                        *ngIf="exp2.expositor.estatusCrm == 0">
                                                                        PROSPECTO
                                                                    </div>
                                                                    <div class="badge"
                                                                        style="background-color: #fd7e14;"
                                                                        *ngIf="exp2.expositor.estatusCrm == 1">
                                                                        CONTACTADO
                                                                    </div>
                                                                    <div class="badge badge-warning"
                                                                        *ngIf="exp2.expositor.estatusCrm == 2">
                                                                        POSIBLE CLIENTE
                                                                    </div>
                                                                    <div class="badge badge-primary"
                                                                        *ngIf="exp2.expositor.estatusCrm == 3">
                                                                        COTIZADO
                                                                    </div>
                                                                    <div class="badge badge-secondary"
                                                                        *ngIf="exp2.expositor.estatusCrm == 4">
                                                                        COTIZACIÓN RECH
                                                                    </div>
                                                                    <div class="badge badge-success"
                                                                        *ngIf="exp2.expositor.estatusCrm == 5">
                                                                        COTIZACIÓN ACEP
                                                                    </div>


                                                                </div>
                                                                <div class="col-lg-5 ContenedorText"
                                                                    style="text-align: right;">
                                                                    {{exp2.vendedor.nombre}}
                                                                </div>
                                                            </div>
                                                            <hr class="ancho pt-1" />
                                                        </div>
                                                    </div>

                                                </mat-expansion-panel>
                                            </mat-accordion>

                                            <div class="text-center" *ngIf="sinResultadosMi == true">
                                                <div class="alert alert-warning" role="alert" style="font-size: 12px;">
                                                    No hay resultados.
                                                </div>
                                            </div>
                                            <div *ngIf="!misClientes">
                                                <div class="alert text-center mt-5" role="alert"
                                                    style="font-size: 14px;">
                                                    <b>Aún no tienes expositores asignados.</b>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="expositoresGenerales" *ngIf="clientes === 'b'">

                                            <mat-accordion>
                                                <mat-expansion-panel *ngFor="let exp of paisesFiltrados2;">
                                                    <mat-expansion-panel-header>
                                                        <mat-panel-title *ngIf="!exp">
                                                            Sin país
                                                        </mat-panel-title>
                                                        <mat-panel-title *ngIf="exp != ''">
                                                            {{exp}}
                                                        </mat-panel-title>
                                                        <span
                                                            class="mr-2 text-secondary">({{countPaisClientesGrl(exp)}})
                                                        </span>
                                                    </mat-expansion-panel-header>


                                                    <mat-form-field class="ancho mb-2" appearance="outline">
                                                        <mat-label>Selecciona un estado</mat-label>
                                                        <mat-select style="font-size: 12px;"
                                                            [(ngModel)]="selectEstadosCollapsible"
                                                            (selectionChange)="cambiarPais()">
                                                            <mat-option [value]="'0'">Todos</mat-option>
                                                            <mat-option *ngFor="let estado of estadosFiltrados"
                                                                [value]="estado">
                                                                {{estado}} ({{countEstadoClientesGrl(estado,
                                                                exp)}})</mat-option>
                                                        </mat-select>
                                                    </mat-form-field>


                                                    <div
                                                        *ngFor="let expositor of (clientesGenerales2 | filterEstados: exp)">

                                                        <div class="puntero"
                                                            [ngClass]="{'btnClienteSelected': expositor.expositor.id == idSelect}"
                                                            (click)="genExpositorSelected(expositor.expositor.id)">
                                                            <div class="col-lg-12 ContenedorText textdecor">
                                                                <b>{{expositor.expositor.nombre_comercial}}</b>
                                                            </div>
                                                            <div class="row" style="font-size: 10px;">
                                                                <div class="col-lg-6">
                                                                    <div class="badge badge-white border border-dark"
                                                                        *ngIf="expositor.expositor.prioridad == 0">
                                                                        <b>B</b>
                                                                    </div>
                                                                    <div class="badge badge-white border border-dark"
                                                                        *ngIf="expositor.expositor.prioridad == 1">
                                                                        <b>M</b>
                                                                    </div>
                                                                    <div class="badge badge-white border border-dark"
                                                                        *ngIf="expositor.expositor.prioridad == 2">
                                                                        <b>A</b>
                                                                    </div>
                                                                    <div class="badge badge-danger"
                                                                        *ngIf="expositor.expositor.estatusCrm == 0">
                                                                        PROSPECTO
                                                                    </div>
                                                                    <div class="badge"
                                                                        style="background-color: #fd7e14;"
                                                                        *ngIf="expositor.expositor.estatusCrm == 1">
                                                                        CONTACTADO
                                                                    </div>
                                                                    <div class="badge badge-warning"
                                                                        *ngIf="expositor.expositor.estatusCrm == 2">
                                                                        POSIBLE CLIENTE
                                                                    </div>
                                                                    <div class="badge badge-primary"
                                                                        *ngIf="expositor.expositor.estatusCrm == 3">
                                                                        COTIZADO
                                                                    </div>
                                                                    <div class="badge badge-secondary"
                                                                        *ngIf="expositor.expositor.estatusCrm == 4">
                                                                        COTIZACIÓN R
                                                                    </div>
                                                                    <div class="badge badge-success"
                                                                        *ngIf="expositor.expositor.estatusCrm == 5">
                                                                        COTIZACIÓN A
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-6">
                                                                    <mat-form-field *ngIf="validRol == true"
                                                                        class="ancho" style="font-size: 1px;">
                                                                        <mat-select style="font-size: 11px;"
                                                                            [(value)]="expositor.vendedor.id"
                                                                            (selectionChange)="registrarRelacion(expositor.expositor.id, expositor.id, $event)">
                                                                            <mat-option [value]="0">Des asignar
                                                                            </mat-option>
                                                                            <mat-option *ngFor="let vend of vendedores"
                                                                                [value]="vend.id">
                                                                                {{vend.nombre}}
                                                                            </mat-option>
                                                                        </mat-select>
                                                                    </mat-form-field>

                                                                    <div *ngIf="validRol == false"
                                                                        class="ContenedorText"
                                                                        style="font-size: 10px; text-align: right;">
                                                                        {{expositor.vendedor.nombre}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <hr class="ancho pt-1" />
                                                        </div>
                                                    </div>

                                                </mat-expansion-panel>
                                            </mat-accordion>
                                            <div class="text-center" *ngIf="sinResultadosGen == true">
                                                <div class="alert alert-warning" role="alert" style="font-size: 12px;">
                                                    No hay resultados.
                                                </div>
                                            </div>
                                            <div *ngIf="!clientesGenerales">
                                                <div class="alert text-center mt-5" role="alert"
                                                    style="font-size: 14px;">
                                                    <b>Sin expositores.</b>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-9">
                                <div class="row">
                                    <div class="col-8">
                                        <div class="row" *ngIf="infoExpositor == false">
                                            <div class="col-lg-1"></div>
                                            <div class="col-lg-10">
                                                <div class="callout callout-success text-center elevation-1"
                                                    style="height: 230px;">
                                                    <div style="font-size: 13px;"><b> No tienes ningún expositor
                                                            seleccionado</b></div>
                                                    <img src="./assets/img_prospectos/embudo03.png" style="width: 45%;">
                                                </div>
                                            </div>
                                            <div class="col-lg-1"></div>
                                        </div>
                                        <div class="card bg-light elevation-2" *ngIf="infoExpositor == true">
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-1">
                                                        <div class="nav flex-column nav-tabs h-100" id="vert-tabs-tab"
                                                            role="tablist" aria-orientation="vertical">
                                                            <a class="nav-link active" style="font-size: 12px;"
                                                                id="vert-tabs-home-tab" data-toggle="pill"
                                                                href="#vert-tabs-1" role="tab"
                                                                aria-controls="vert-tabs-home" aria-selected="true">
                                                                <i class="fas fa-building" style="font-size: 21px;"></i>
                                                            </a>
                                                            <a class="nav-link" style="font-size: 12px;"
                                                                id="vert-tabs-profile-tab" data-toggle="pill"
                                                                href="#vert-tabs-2" role="tab"
                                                                aria-controls="vert-tabs-profile" aria-selected="false">
                                                                <i class="fas fa-pencil-ruler"
                                                                    style="font-size: 21px;"></i>
                                                            </a>
                                                            <a class="nav-link" style="font-size: 12px;"
                                                                id="vert-tabs-messages-tab" data-toggle="pill"
                                                                href="#vert-tabs-3" role="tab"
                                                                aria-controls="vert-tabs-messages"
                                                                aria-selected="false">
                                                                <i class="fas fa-address-card"
                                                                    style="font-size: 21px;"></i>
                                                            </a>
                                                            <a class="nav-link" style="font-size: 12px;"
                                                                id="vert-tabs-settings-tab" data-toggle="pill"
                                                                href="#vert-tabs-4" role="tab"
                                                                aria-controls="vert-tabs-settings"
                                                                aria-selected="false">
                                                                <i class="fas fa-info-circle"
                                                                    style="font-size: 21px;"></i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="col-11">
                                                        <div class="tab-content tarjeta" id="vert-tabs-tabContent">
                                                            <div class="tab-pane text-center active" id="vert-tabs-1"
                                                                role="tabpanel" aria-labelledby="vert-tabs-home-tab">
                                                                <div class="row mt-4">
                                                                    <div class="col-lg-4 mb-auto mt-auto">
                                                                        <img *ngIf="clienteSeleccionado.logo"
                                                                            src="{{urlImgEx}}{{clienteSeleccionado.logo}}"
                                                                            class="imgacople">
                                                                        <img *ngIf="!clienteSeleccionado.logo"
                                                                            src="./assets/views_ayuda/dist/img/nouser.png"
                                                                            class="imgacople">
                                                                    </div>
                                                                    <div class="col-lg-6 mb-auto mt-auto">
                                                                        <div class="ContenedorText">
                                                                            <b
                                                                                style="font-size: 18px;">{{clienteSeleccionado.nombre_comercial}}</b>
                                                                        </div>
                                                                        <div class="textdecor mt-2"
                                                                            style="font-size: 10px;">
                                                                            {{clienteSeleccionado.direccion}}</div>
                                                                        <div class="textdecor mt-2"
                                                                            style="font-size: 10px;">
                                                                            {{clienteSeleccionado.pais}},
                                                                            {{clienteSeleccionado.estado}}</div>
                                                                    </div>
                                                                    <div class="col-lg-2 mt-0">
                                                                        <button mat-icon-button
                                                                            [matMenuTriggerFor]="menu01">
                                                                            <mat-icon>more_vert</mat-icon>
                                                                        </button>
                                                                        <mat-menu #menu01="matMenu">
                                                                            <button mat-menu-item data-toggle="modal"
                                                                                data-target="#modal-lg01"
                                                                                (click)="enviarDatosExpositorEdit()">
                                                                                <mat-icon>create</mat-icon>
                                                                                <span>Editar expositor</span>
                                                                            </button>
                                                                            <button mat-menu-item
                                                                                *ngIf="validRol == true"
                                                                                (click)="borrarExpositor()">
                                                                                <mat-icon>delete</mat-icon>
                                                                                <span>Eliminar expositor</span>
                                                                            </button>
                                                                        </mat-menu>
                                                                    </div>
                                                                </div>
                                                                <hr class="mt-4">
                                                                <div class="row" style="font-size: 12px;">
                                                                    <div class="col-lg-5 mb-auto mt-auto">
                                                                        <div class="ContenedorText"
                                                                            *ngIf="clienteSeleccionado.pagina_web"><a
                                                                                href="{{clienteSeleccionado.pagina_web}}">{{clienteSeleccionado.pagina_web}}</a>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-2 textdecor mb-auto mt-auto">
                                                                        <div *ngIf="clienteSeleccionado.telefono">
                                                                            <div>
                                                                                <i class="fas fa-phone-alt"></i>
                                                                            </div>
                                                                            <div>{{clienteSeleccionado.telefono |
                                                                                formatTelefonos}}</div>
                                                                            <div>{{clienteSeleccionado.telefono2 |
                                                                                formatTelefonos}}</div>
                                                                        </div>
                                                                        <div
                                                                            *ngIf="!clienteSeleccionado.telefono && !clienteSeleccionado.telefono2">
                                                                            <i class="fab fa-whatsapp"></i>
                                                                            Sin número.
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-5 textdecor mb-auto mt-auto">
                                                                        <div *ngIf="clienteSeleccionado.email">
                                                                            <div>
                                                                                <i class="far fa-envelope"></i>
                                                                            </div>
                                                                            {{clienteSeleccionado.email}}
                                                                        </div>
                                                                        <div *ngIf="!clienteSeleccionado.email">
                                                                            <i class="far fa-envelope"></i>
                                                                            Sin email.
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <hr>
                                                                <div class="row mt-auto mb-auto text-center">
                                                                    <div class="col-lg-3"></div>
                                                                    <div class="col-lg-6">
                                                                        <div class="row">
                                                                            <div class="col-lg-6">
                                                                                <mat-form-field class="ancho"
                                                                                    style="font-size: 7px;">
                                                                                    <mat-label style="font-size: 11px;"
                                                                                        *ngIf="selectEstatusCrm == 0">
                                                                                        Prospecto</mat-label>
                                                                                    <mat-label style="font-size: 11px;"
                                                                                        *ngIf="selectEstatusCrm == 1">
                                                                                        Contactado</mat-label>
                                                                                    <mat-label style="font-size: 11px;"
                                                                                        *ngIf="selectEstatusCrm == 2">
                                                                                        Posible cliente</mat-label>
                                                                                    <mat-label style="font-size: 11px;"
                                                                                        *ngIf="selectEstatusCrm == 3">
                                                                                        Cotizado</mat-label>
                                                                                    <mat-label style="font-size: 11px;"
                                                                                        *ngIf="selectEstatusCrm == 4">
                                                                                        Cotización rechazada</mat-label>
                                                                                    <mat-label style="font-size: 11px;"
                                                                                        *ngIf="selectEstatusCrm == 5">
                                                                                        Cotización aceptada</mat-label>
                                                                                    <mat-select id="selectEstatusCrm"
                                                                                        [class]="estatusClaseCRM"
                                                                                        [(ngModel)]="selectEstatusCrm"
                                                                                        disableRipple
                                                                                        style="font-size: 12px;"
                                                                                        (selectionChange)="cambiarStatusCrm()">
                                                                                        <mat-option value="0">Prospecto
                                                                                        </mat-option>
                                                                                        <mat-option value="1">Contactado
                                                                                        </mat-option>
                                                                                        <mat-option value="2">Posible
                                                                                            cliente</mat-option>
                                                                                        <mat-option value="3">Cotizado
                                                                                        </mat-option>
                                                                                        <mat-option value="4">Cotización
                                                                                            rechazada</mat-option>
                                                                                        <mat-option value="5">Cotización
                                                                                            aceptada</mat-option>
                                                                                    </mat-select>
                                                                                </mat-form-field>
                                                                            </div>
                                                                            <div class="col-lg-6">
                                                                                <mat-form-field class="ancho"
                                                                                    style="font-size: 7px;">
                                                                                    <mat-label style="font-size: 11px;"
                                                                                        *ngIf="selectPrioridadCrm == 2">
                                                                                        Alta</mat-label>
                                                                                    <mat-label style="font-size: 11px;"
                                                                                        *ngIf="selectPrioridadCrm == 1">
                                                                                        Media</mat-label>
                                                                                    <mat-label style="font-size: 11px;"
                                                                                        *ngIf="selectPrioridadCrm == 0">
                                                                                        Baja</mat-label>
                                                                                    <mat-select disableRipple
                                                                                        style="font-size: 12px;"
                                                                                        [(ngModel)]="selectPrioridadCrm"
                                                                                        (selectionChange)="cambiarPrioridadCrm()">
                                                                                        <mat-option value="2">Alta
                                                                                        </mat-option>
                                                                                        <mat-option value="1">Media
                                                                                        </mat-option>
                                                                                        <mat-option value="0">Baja
                                                                                        </mat-option>
                                                                                    </mat-select>
                                                                                </mat-form-field>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-3"></div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane text-center fade show" id="vert-tabs-2"
                                                                role="tabpanel" aria-labelledby="vert-tabs-home-tab">
                                                                <div class="textdecor" style="font-size: 14px;">
                                                                    <b>Nota:</b>
                                                                </div>
                                                                <mat-form-field class="ancho" style="font-size: 12px;">
                                                                    <mat-label>Escribe algo</mat-label>
                                                                    <textarea matInput [(ngModel)]="inptNewNota"
                                                                        rows="2"></textarea>
                                                                </mat-form-field>
                                                                <div class="float-right"><button
                                                                        class="btn btn-xs btn-primary"
                                                                        [disabled]="!inptNewNota"
                                                                        (click)="guardarNewNota()">Guardar</button>
                                                                </div>
                                                                <hr>
                                                                <div style="font-size: 12px;">
                                                                    <ol *ngIf="notasCliente">
                                                                        <li *ngFor="let nota of notasCliente">
                                                                            <div
                                                                                class="rounded bg-white  text-center mt-3 elevation-1">
                                                                                {{nota.descripcion}}
                                                                            </div>
                                                                        </li>
                                                                    </ol>
                                                                    <h4 *ngIf="!notasCliente">Sin notas.</h4>
                                                                </div>
                                                            </div>
                                                            <div class="scroller-tarjeta tab-pane text-center fade show "
                                                                id="vert-tabs-3" role="tabpanel"
                                                                aria-labelledby="vert-tabs-home-tab">
                                                                <div class="textdecor" style="font-size: 14px;">
                                                                    <b>Contacto:</b>
                                                                </div>
                                                                <button mat-mini-fab
                                                                    class="btn-flotante02 bg-success elevation-2"
                                                                    data-toggle="modal" data-target="#modal-lg06"
                                                                    (click)="abrirModalContacto(fCS)">
                                                                    <mat-icon>person_add</mat-icon>
                                                                </button>

                                                                <div class="card mb-2"
                                                                    *ngFor="let contacto of contactoCliente; let z = index">
                                                                    <div class="card-body p-1">
                                                                        <div class="row">
                                                                            <div class="col-lg-1 mb-auto mt-auto">
                                                                                <img *ngIf="contacto.img"
                                                                                    src="{{urlImgC}}{{contacto.img}}"
                                                                                    class="img-circle"
                                                                                    style="width: 150%;">
                                                                                <img *ngIf="!contacto.img"
                                                                                    src="./assets/views_ayuda/dist/img/nouser.png"
                                                                                    class="img-circle"
                                                                                    style="width: 150%;">
                                                                            </div>
                                                                            <div class="col-lg-3  mb-auto mt-auto"
                                                                                style="font-size:10px">
                                                                                <div class="ContenedorText"
                                                                                    style="font-size: 12px;">
                                                                                    <b>{{contacto.nombre}}</b>
                                                                                </div>
                                                                                <div class="ContenedorText textdecor2">
                                                                                    <b>{{contacto.puesto}}</b>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-lg-3  mb-auto mt-auto"
                                                                                style="font-size:11px">
                                                                                <i class="fab fa-whatsapp"
                                                                                    style="font-size: 18px;"></i>
                                                                                <div class="ml-2"
                                                                                    *ngIf="contacto.telefono"><b>
                                                                                        {{contacto.telefono}}</b></div>
                                                                                <div class="ml-2"
                                                                                    *ngIf="!contacto.telefono"><b>
                                                                                        Sin número.</b></div>
                                                                            </div>
                                                                            <div class="col-lg-4  mb-auto mt-auto"
                                                                                style="font-size:11px">
                                                                                <i class="far fa-envelope"
                                                                                    style="font-size: 18px;"></i>
                                                                                <div class="ml-2"
                                                                                    *ngIf="contacto.email"><b>
                                                                                        {{contacto.email}}</b></div>
                                                                                <div class="ml-2"
                                                                                    *ngIf="!contacto.email"><b>
                                                                                        Sin email.</b></div>
                                                                            </div>
                                                                            <div class="col-lg-1  mb-auto mt-auto">
                                                                                <button mat-icon-button
                                                                                    [matMenuTriggerFor]="menu02"
                                                                                    aria-label="Example icon-button with a menu">
                                                                                    <mat-icon>more_vert</mat-icon>
                                                                                </button>
                                                                                <mat-menu #menu02="matMenu">
                                                                                    <button mat-menu-item
                                                                                        data-toggle="modal"
                                                                                        data-target="#modal-lg05"
                                                                                        (click)="enviarDatosContactoEditar(z)">
                                                                                        <mat-icon>create</mat-icon>
                                                                                        <span>Editar conacto</span>
                                                                                    </button>
                                                                                    <button
                                                                                        *ngIf="contacto.telefono || contacto.email"
                                                                                        mat-menu-item
                                                                                        data-toggle="modal"
                                                                                        data-target="#mensajeriaModal"
                                                                                        (click)="enviarContacto(z)">
                                                                                        <mat-icon>question_answer
                                                                                        </mat-icon>
                                                                                        <span>Mensajería</span>
                                                                                    </button>

                                                                                    <button mat-menu-item
                                                                                        (click)="eliminarContacto(z)">
                                                                                        <mat-icon>delete</mat-icon>
                                                                                        <span>Eliminar conacto</span>
                                                                                    </button>
                                                                                </mat-menu>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div *ngIf="!contactoCliente">
                                                                    <h4 class="mt-5">Sin contactos.</h4>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane text-center fade show" id="vert-tabs-4"
                                                                role="tabpanel" aria-labelledby="vert-tabs-home-tab">
                                                                <div class="textdecor" style="font-size: 14px;">
                                                                    <b>Acerca de esta Empresa:</b>
                                                                </div>
                                                                <div class="mt-2"
                                                                    style="font-size: 12px; text-align: justify;">
                                                                    {{clienteSeleccionado.acercaDe}}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="col-lg-12">
                                            <div class="textdecor" style="font-size: 14px;"
                                                *ngIf="infoExpositor == true"><b>Crear Actividad</b>
                                            </div>
                                        </div>

                                        <div class="card bg-light elevation-2 mt-2" *ngIf="infoExpositor == true">
                                            <div class="card-body" style="font-size: 13px;"
                                                *ngIf="clientes === 'a' || validRol == true">

                                                <div class="row" style="font-size: 12px;">
                                                    <div class="col-lg-3"></div>
                                                    <div class="col-lg-6">
                                                        <mat-form-field class="ancho" style="font-size: 12px;">
                                                            <mat-label style="font-size: 11px;">Tipo de actividad
                                                            </mat-label>
                                                            <mat-select style="font-size: 12px;"
                                                                [(ngModel)]="selectTipoActividad">
                                                                <mat-option value="1">Llamada telefónica</mat-option>
                                                                <mat-option value="5">Cita con el cliente</mat-option>
                                                                <mat-option value="2">Correo electrónico</mat-option>
                                                                <mat-option value="3">WhatsApp</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-lg-3 float-right">
                                                        <div class="text-center mt-auto mb-auto">
                                                            <button class="btn btn-xs btn-primary"
                                                                [disabled]="!inptDescripcionAct || !inptAccionTomar || !infoExpositor || !selectTipoActividad"
                                                                (click)="registrarActividad()">
                                                                Guardar
                                                            </button>
                                                            <button class="btn btn-xs btn-outline-dark mt-1"
                                                                data-toggle="modal" data-target="#modal-lg07"
                                                                id="abrirModalCalendario" hidden>
                                                                M
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr>
                                                <div class="row" style="font-size: 12px;">
                                                    <div class="col-lg-6">
                                                        <mat-form-field class="ancho">
                                                            <mat-label>Descripción de actividad</mat-label>
                                                            <textarea matInput [(ngModel)]="inptDescripcionAct"
                                                                maxlength="250"
                                                                style="resize: vertical; max-height: 150px; height: 70px;"></textarea>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <mat-form-field class="ancho">
                                                            <mat-label>Acción a tomar</mat-label>
                                                            <textarea matInput [(ngModel)]="inptAccionTomar"
                                                                maxlength="250"
                                                                style="resize: vertical; max-height: 150px; height: 70px;"></textarea>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card-body tarjeta2 mt-3" style="font-size: 15px;"
                                                *ngIf="clientes === 'b' && validRol == false">
                                                <div class="alert alert-light" role="alert">
                                                    <i class="fas fa-exclamation"></i> Sólo puedes registrar actividades
                                                    a tus expositores.
                                                </div>
                                            </div>
                                        </div>
                                        <div class="callout tarjeta2 callout-success text-center elevation-2 mt-2"
                                            *ngIf="infoExpositor == false">
                                            <div style="font-size: 13px;"><b> No tienes ningún expositor
                                                    seleccionado</b></div>
                                            <img src="./assets/img_prospectos/embudo03.png" style="width: 45%;">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="card bg-light elevation-2">
                                            <div class="card-body scrollerOsqi03 text-center"
                                                *ngIf="historialExpH.length == 0">
                                                <img src="./assets/img_prospectos/embudo04.png" style="width: 70%;">
                                            </div>
                                            <div class="card-body scrollerOsqi03" *ngIf="historialExpH.length > 0">
                                                <div class="timeline">

                                                    <div>
                                                        <i class="fas fa-clock bg-gray"></i>
                                                    </div>
                                                    <br><br>
                                                    <div class="" *ngFor="let hExpH of historialExpH">
                                                        <i class="fas" *ngIf="hExpH.tipo != '3'" [ngClass]="{'fa-phone bg-time0': hExpH.tipo == '1',
                                                                'fa-handshake bg-time1': hExpH.tipo == '0',
                                                                'fa-envelope bg-time2': hExpH.tipo == '2',
                                                                'fa-user-edit bg-time4': hExpH.tipo == '5',
                                                                'fa-user-edit bg-time5': hExpH.tipo == '4',
                                                            'fa-check-circle bg-success': hExpH.tipo == '6',
                                                             'fa-user-clock bg-warning': hExpH.tipo == '7',
                                                             'fa-user-check bg-primary': hExpH.tipo == '8',
                                                             'fa-exchange-alt bg-info': hExpH.tipo == '9',
                                                             'fa-ban bg-danger': hExpH.tipo == '10'}"></i>
                                                        <i class="fab fa-whatsapp bg-time3"
                                                            *ngIf="hExpH.tipo == '3'"></i>
                                                        <div class="timeline-item shadow">

                                                            <div class="timeline-header col-12 rounded"
                                                                style="font-size: 12px;"
                                                                [ngClass]="{'border-time03': hExpH.tipo == '0' || hExpH.tipo == '1' || hExpH.tipo == '2' || hExpH.tipo == '3',
                                                                    'bg-warning': hExpH.tipo == '5',
                                                                    'amarillo': hExpH.accion == 'Posible cliente',
                                                                    'rojo': hExpH.accion == 'Prospecto',
                                                                    'naranja': hExpH.accion == 'Contactado',
                                                                    'azul': hExpH.accion == 'Cotizado',
                                                                    'verde': hExpH.accion == 'Cotización aceptada',
                                                                    'gris': hExpH.accion == 'Cotización rechazada',
                                                                    'border-time610': hExpH.tipo == '6' || hExpH.tipo == '7' || hExpH.tipo == '8' || hExpH.tipo == '9' || hExpH.tipo == '10'}">
                                                                <span class="float-right text-gray-dark small"> <i
                                                                        class="fas fa-calendar-alt"></i>
                                                                    {{hExpH.fecha_hora | date: 'dd/MM/yyyy'}} <i
                                                                        class="fas fa-clock pl-1"></i>
                                                                    {{hExpH.fecha_hora | date:
                                                                    'hh:mm aa'}}</span>
                                                                <hr class="mb-1 p-0">
                                                                <span [ngSwitch]="hExpH.tipo">
                                                                    <span *ngSwitchCase="'0'">
                                                                        <span style="font-weight: 450;">Descripción:
                                                                        </span> {{hExpH.descripcion}}
                                                                    </span>
                                                                    <span *ngSwitchCase="'1'">
                                                                        <span style="font-weight: 450;">Descripción:
                                                                        </span> {{hExpH.descripcion}}
                                                                    </span>
                                                                    <span *ngSwitchCase="'2'">
                                                                        <span style="font-weight: 450;">Descripción:
                                                                        </span> {{hExpH.descripcion}}
                                                                    </span>
                                                                    <span *ngSwitchCase="'3'">
                                                                        <span style="font-weight: 450;">Descripción:
                                                                        </span> {{hExpH.descripcion}}
                                                                    </span>
                                                                    <span *ngSwitchCase="'4'">
                                                                        <div class="text-center text-dark"
                                                                            *ngIf="hExpH.accion == 'Cotización aceptada'">
                                                                            <i class="fas fa-medal"></i><b> Good
                                                                                Job!</b><br><br>
                                                                        </div>

                                                                        El estatus cambio de
                                                                        <strong
                                                                            class="text-dark">{{hExpH.descripcion}}</strong>
                                                                        a <strong
                                                                            class="text-dark">{{hExpH.accion}}</strong>.
                                                                    </span>
                                                                    <span *ngSwitchCase="'5'">
                                                                        La prioridad cambio de
                                                                        <strong
                                                                            class="text-dark">{{hExpH.descripcion}}</strong>
                                                                        a <strong
                                                                            class="text-dark">{{hExpH.accion}}</strong>.
                                                                    </span>
                                                                    <span *ngSwitchCase="'6'">
                                                                        El Expositor reservo el stand <strong
                                                                            class="text-navy">{{hExpH.accion}}</strong>.
                                                                    </span>
                                                                    <span *ngSwitchCase="'7'">
                                                                        Esperando firma del Expositor para el stand
                                                                        <strong
                                                                            class="text-navy">{{hExpH.accion}}</strong>.
                                                                    </span>
                                                                    <span *ngSwitchCase="'8'">
                                                                        El Expositor ha confirmado el stand <strong
                                                                            class="text-navy">{{hExpH.accion}}</strong>.
                                                                    </span>
                                                                    <span *ngSwitchCase="'9'">
                                                                        El Expositor ha sido mandado al área de
                                                                        reubicación por
                                                                        el stand <strong
                                                                            class="text-navy">{{hExpH.accion}}</strong>.<br>
                                                                        <span class="text-navy">Motivo:
                                                                        </span>{{hExpH.descripcion}}
                                                                    </span>
                                                                    <span *ngSwitchCase="'10'">
                                                                        El Expositor ha cancelado el stand <strong
                                                                            class="text-navy">{{hExpH.accion}}</strong>.<br>
                                                                        <span class="text-navy">Motivo:
                                                                        </span>{{hExpH.descripcion}}
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="timeline-item mt-2 border-time03"
                                                            *ngIf="hExpH.tipo == '0' || hExpH.tipo == '1' || hExpH.tipo == '2' || hExpH.tipo == '3'">
                                                            <div class="timeline-header card-primary rounded"
                                                                style="font-size: 12px;">
                                                                <span style="font-weight: 450;">Acción: </span>
                                                                {{hExpH.accion}}
                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div>
                                                        <i class="fas fa-clock bg-gray"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </mat-tab>

                    <mat-tab>
                        <ng-template mat-tab-label (click)="resetFormExpositor(fEx, fCo)">
                            <mat-icon class="iconTab">person_add</mat-icon> Nuevo cliente
                        </ng-template>
                        <div class="textdecor mt-3" style="font-size: 14px;"> <b>Información General</b></div>
                        <form name="formularioExpo" #fEx="ngForm">
                            <div class="row text-center mt-3">
                                <div class="col-lg-3">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>Razón social</mat-label>
                                            <input required matInput name="razonSocial" ngModel maxlength="220">
                                            <mat-error *ngIf="formD.controls['razonSocial'].errors.required">La
                                                razon
                                                social es requerida.</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>Nombre comercial</mat-label>
                                            <input required matInput name="nombreComercial" ngModel maxlength="220">
                                            <mat-error *ngIf="formD.controls['nombreComercial'].errors.required">El
                                                nombre comercial es requerido.</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>Correo</mat-label>
                                            <input matInput name="correo" ngModel maxlength="180">
                                            <mat-error *ngIf="formD.controls['correo'].errors.required">El correo es
                                                requerido.</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>Página web</mat-label>
                                            <input matInput name="paginaWeb" ngModel maxlength="220">
                                            <mat-error *ngIf="formD.controls['paginaWeb'].errors.required">La página
                                                web
                                                es requerida.</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                            <div class="row text-center">
                                <div class="col-lg-3">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>Rfc</mat-label>
                                            <input matInput name="rfc" ngModel maxlength="20"
                                                (focusout)="verificarRfc($event)">
                                            <mat-error *ngIf="formD.controls['rfc'].errors.required">El rfc es
                                                requerido
                                                y único.</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>Teléfono</mat-label>
                                            <input type="tel" matInput name="telefono" ngModel
                                                onkeyup="this.value=this.value.replace(/[^\d]/,'')" minlength="10"
                                                maxlength="15">
                                            <mat-error *ngIf="formD.controls['telefono'].errors.required">El
                                                teléfono es
                                                requerido. (10 a 15 dígitos).</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>Teléfono 2</mat-label>
                                            <input type="tel" matInput name="telefono2" ngModel
                                                onkeyup="this.value=this.value.replace(/[^\d]/,'')" minlength="10"
                                                maxlength="15">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>Dirección</mat-label>
                                            <input matInput name="direccion" ngModel maxlength="230">
                                            <mat-error *ngIf="formD.controls['direccion'].errors.required">La
                                                dirección
                                                es requerida.</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                            <div class="row text-center">
                                <div class="col-lg-4">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>País</mat-label>
                                            <input matInput name="pais" ngModel maxlength="200">
                                            <mat-error *ngIf="formD.controls['pais'].errors.required">El País es
                                                requerido.</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <mat-label>Estado</mat-label>
                                            <input type="text" name="estado" matInput [formControl]="myControl"
                                                [matAutocomplete]="auto" id="estadoCrm">
                                            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                                <mat-option *ngFor="let option of filteredOptions | async"
                                                    [value]="option">
                                                    {{option}}
                                                </mat-option>
                                            </mat-autocomplete>
                                            <mat-error *ngIf="formD.controls['estado'].errors.required">El Estado es
                                                requerido.</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-lg-4" id="subirImgExpositor">
                                    <span class="btn btn-primary btn-file btn-sm mt-2">
                                        <i class="fas fa-camera"></i> Subir logotipo<input type="file"
                                            id="subirImgExpositor" accept="image/*"
                                            (change)="seleccionarFotoExpositor($event)">
                                    </span>
                                </div>
                                <div class="col-lg-4" id="eliminarImgExpositor" style="display: none;">
                                    <button class="btn btn-danger btn-sm mt-2" (click)="eliminarImgExpositor()">
                                        <i class="fas fa-trash"></i> Eliminar
                                    </button>
                                </div>
                            </div>

                            <hr>
                            <div class="textdecor" style="font-size: 14px;"> <b>Acerca de la Empresa</b></div>
                            <div class="row">
                                <div class="col-lg-4"></div>
                                <div class="col-lg-4">
                                    <div class="text-muted float-left" style="font-size: 12px;"><b>Escribe algo:</b>
                                    </div>
                                    <div class="example-form">
                                        <mat-form-field style="width: 100%">
                                            <textarea name="acercaDe" matInput ngModel maxlength="240"
                                                style="resize: vertical; max-height: 150px;"></textarea>
                                            <mat-hint></mat-hint>
                                            <mat-error *ngIf="formD.controls['acercaDe'].errors.required">La
                                                descripción
                                                es
                                                requerida.
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-lg-4"></div>
                            </div>

                            <hr>
                            <div class="textdecor mt-2" style="font-size: 14px;"> <b>Contacto</b></div>
                            <form ame="formularioExpo" #fCo="ngForm">
                                <div class="row col-lg-12 text-center mt-3" style="font-size: 12px;">
                                    <div class="col-lg-2" id="imgContactoExpositor">
                                        <span class="btn btn-primary btn-file btn-sm">
                                            <i class="fas fa-camera"></i> Subir foto<input type="file"
                                                id="subirImgContactoExpositor" accept="image/*"
                                                (change)="seleccionarFotoContactoExpo($event)">
                                        </span>
                                    </div>
                                    <div class="col-lg-2" id="elimImgContactoExpositor" style="display: none;">
                                        <button class="btn btn-danger btn-sm" (click)="eliminarImgContacto()">
                                            <i class="fas fa-trash"></i> Eliminar
                                        </button>
                                    </div>
                                    <div class="col-lg-3">
                                        <div class="example-form">
                                            <mat-form-field class="ancho">
                                                <mat-label>Nombre</mat-label>
                                                <input required matInput name="contactoNombre" ngModel maxlength="100">
                                                <mat-error *ngIf="formC.controls['contactoNombre'].errors.required">
                                                    El
                                                    nombre es requerido.</mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="col-lg-3">
                                        <div class="example-form">
                                            <mat-form-field class="ancho">
                                                <mat-label>Puesto</mat-label>
                                                <input matInput name="contactoPuesto" ngModel maxlength="100">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="example-form">
                                            <mat-form-field class="ancho">
                                                <mat-label>WhatsApp (LADA + TEL)</mat-label>
                                                <input matInput name="contactoWhats" ngModel
                                                    onkeyup="this.value=this.value.replace(/[^\d]/,'')" minlength="10"
                                                    maxlength="15">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <div class="example-form">
                                            <mat-form-field class="ancho">
                                                <mat-label>Correo</mat-label>
                                                <input matInput name="contactoCorreo" ngModel maxlength="100">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </div>
                            </form>

                            <div class="mt-3 text-center">
                                <button type="button" class="btn btn-sm btn-success rounded-circle"
                                    (click)="addContacto(fCo)" [disabled]="!fCo.valid"><i
                                        class="fas fa-plus"></i></button> <br>
                                <h4 class="text-muted">Agregar contacto</h4>
                            </div>

                            <div class="mt-3" *ngIf="hayContactos == true">
                                <div class="row">
                                    <div class="col-lg-3"></div>
                                    <div class="col-lg-6">
                                        <table class="table table-sm table-bordered table-hover text-center">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Foto</th>
                                                    <th scope="col">Nombre</th>
                                                    <th scope="col">Puesto</th>
                                                    <th scope="col">WhatsApp</th>
                                                    <th scope="col">Correo</th>
                                                    <th scope="col">Eliminar</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let ele of arrayContactos; let i = index">
                                                    <th *ngIf="ele.img == 'nouser.png'"><i class="fas fa-question"></i>
                                                    </th>
                                                    <th *ngIf="ele.img == 1"><i class="fas fa-camera"></i></th>
                                                    <th>{{ele.nombre}}</th>
                                                    <th>{{ele.puesto}}</th>
                                                    <td>{{ele.telefono}}</td>
                                                    <td>{{ele.email}}</td>
                                                    <td><button class="btn btn-xs btn-danger"
                                                            (click)="deleteContacto(i)"><i
                                                                class="far fa-trash-alt"></i></button></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="col-lg-3"></div>
                                </div>
                            </div>

                            <div class="text-center mt-5 mb-3">
                                <button class="btn btn-primary btn-sm"
                                    [disabled]="!fEx.valid || !hayContactos || varRfc== true"
                                    (click)="saveExpositor(fEx, fCo)">Guardar</button>
                            </div>
                        </form>
                    </mat-tab>

                    <mat-tab>
                        <ng-template mat-tab-label>
                            <mat-icon class="iconTab">drive_file_move</mat-icon> Importar contactos
                        </ng-template>
                        <div class="text-center mt-4" style="font-size: 13px;">
                            <div>
                                <b>Esta es una previsualización del archivo que se tiene que llenar y subir, no se
                                    aceptan
                                    columnas de más.</b>
                            </div>
                            <h4 class="text-danger mt-2"><b>*CAMPOS OBLIGATORIOS: </b>Razón Social y Nombre Comercial.
                            </h4>

                            <h4 class="text-danger mt-2"><b>Para evitar registros duplicados; </b>El campo <b>RFC</b>
                                diferencia a los clientes.
                            </h4>

                            <h4 class="text-danger">*Para hacer uso del envío de whatsapp, los números teléfonicos del
                                <b>contacto</b> deben de tener <b>LADA + TELÉFONO.</b>
                            </h4>

                            <h4 class="text-danger">*Máximo 3 contactos por expositor. <b>Nombre del contacto
                                    obligatorio.</b></h4>
                        </div>
                        <div class="text-center mt-3 mb-3">
                            <img class="w-75" src="./assets/img_prospectos/EjemploExcel.PNG">
                        </div>
                        <div class="text-center mt-2" style="font-size: 13px;"><b>(Para tener mayor éxito en el
                                registro, descargar la plantilla.)</b></div>
                        <div class="row text-center mt-4 mb-2">
                            <div class="col-lg-3"></div>
                            <div class="col-lg-3">
                                <span class="btn btn-primary btn-file btn-sm">
                                    <i class="fas fa-file-upload"></i> Subir excel<input type="file" id="subirExcelFile"
                                        (change)="onFileChange($event)" multiple="false" accept=".xlsx, .xls, .csv">
                                </span>
                            </div>
                            <div class="col-lg-3">
                                <a href="./assets/archivos_prospectos/Plantilla.xlsx" class="btn btn-sm bg-primary"><i
                                        class="fas fa-file-download"></i> Descargar
                                    plantilla</a>
                            </div>
                            <div class="col-lg-3"></div>
                        </div>
                        <div class="mt-3 text-center" *ngIf="loadExcel == true">

                            <div class="alert alert-light alert-dismissible fade show border-dark text-center scrollerExcel"
                                role="alert">
                                <strong *ngIf="numRegistros > 0" class="text-success">NUEVOS REGISTROS:
                                    {{numRegistros}}</strong>
                                <br *ngIf="numRegistros > 0">
                                <strong *ngIf="numNoRegistros > 0" class="text-danger">NO REGISTRADOS:
                                    {{numNoRegistros}}, asegúrate que todos los campos tengan Nombre comercial y Razón
                                    social.</strong>
                                <br *ngIf="numNoRegistros > 0">
                                <strong *ngIf="numRfcRepetidos > 0" class="text-danger">RFC REPETIDOS:
                                    {{numRfcRepetidos}} RFC's han sido repetidos.</strong>
                                <br *ngIf="numRfcRepetidos > 0">
                                <strong *ngIf="numContactosRegistrados > 0" class="text-success">CONTACTOS REGISTRADOS:
                                    {{numContactosRegistrados}}; el nombre y teléfono del contacto es obligatorio para
                                    registrar.</strong>
                                <br *ngIf="numContactosRegistrados > 0">
                                <strong *ngIf="numTelefonosInvalidos > 0" class="text-danger">TELÉFONOS NO REGISTRADOS:
                                    {{numTelefonosInvalidos}}; mínimo 10 dígitos, máximo 15.</strong>
                                <br *ngIf="numTelefonosInvalidos > 0">
                                <div class="text-center" *ngIf="numTelefonosInvalidos > 0">
                                    <div class="row">
                                        <div class="col-lg-6"
                                            *ngIf="arrayNumInvalidosExpo.length > 0 && arrayNumInvalidosContacto.length > 0">
                                            <table class="table table-sm table-hover table-bordered">
                                                <thead class="thead-light">
                                                    <tr>
                                                        <th scope="col">Expositores con números inválidos:</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let num of arrayNumInvalidosExpo">
                                                        <th scope="row">{{num}}</th>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="col-lg-12"
                                            *ngIf="arrayNumInvalidosExpo.length > 0 && arrayNumInvalidosContacto.length == 0">
                                            <table class="table table-sm table-hover table-bordered">
                                                <thead class="thead-light">
                                                    <tr>
                                                        <th scope="col">Expositores con números inválidos:</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let num of arrayNumInvalidosExpo">
                                                        <th scope="row">{{num}}</th>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="col-lg-6">
                                            <table class="table table-sm table-hover table-bordered"
                                                *ngIf="arrayNumInvalidosContacto.length > 0 && arrayNumInvalidosExpo.length > 0">
                                                <thead class="thead-light">
                                                    <tr>
                                                        <th scope="col">Contactos con números inválidos:</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let num of arrayNumInvalidosContacto">
                                                        <th scope="row">{{num}}</th>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="col-lg-12">
                                            <table class="table table-sm table-hover table-bordered"
                                                *ngIf="arrayNumInvalidosContacto.length > 0 && arrayNumInvalidosExpo.length == 0">
                                                <thead class="thead-light">
                                                    <tr>
                                                        <th scope="col">Contactos con números inválidos:</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let num of arrayNumInvalidosContacto">
                                                        <th scope="row">{{num}}</th>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <br *ngIf="numTelefonosInvalidos > 0">

                                <strong *ngIf="errors != ''" class="text-danger">ERROR: {{errors}}</strong>
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                        </div>
                    </mat-tab>
                </mat-tab-group>

            </div>
        </div>

        <div class="containter m-4 pt-4" *ngIf="!idEventoSelected || idEventoSelected == 0">
            <div class="alert alert-light elevation-3" role="alert">
                <h4 class="alert-heading"><b>Ups! </b><i class="fas fa-frown"></i></h4>
                <p class="mb-4">Para visualizar esta pantalla debes de seleccionar un evento.</p>
                <hr>
                <p class="mt-4 mb-4">En el menú lateral izquierdo podrás seleccionar uno.</p>
            </div>
        </div>
    </div>
</div>

<section>
    <!--  M O D A L  C A R L O S -->

    <div class="modal" id="mensajeriaModal">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">

                <div class="modal-header bg-gradient-dark">
                    <div>
                        <mat-icon>question_answer</mat-icon> Mensajería
                    </div>
                    <button type="button" class="close text-white " data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>

                <mat-tab-group mat-align-tabs="start">
                    <ng-container *ngIf="nuevoCliente != undefined">
                        <mat-tab *ngIf="nuevoCliente.email">
                            <ng-template mat-tab-label>
                                <i class="fa fa-envelope text-primary mr-1" aria-hidden="true"></i>
                                <span>Email</span>
                            </ng-template>



                            <!-- cuerpo del email-->


                            <div class="modal-body" style="border: 0px ;z-index: 100">
                                <div class="row">
                                    <div class="col-lg-3">
                                        <div class="row text-center">
                                            <div class="col-lg-8 mb-auto mt-auto">
                                                <button (click)="cambio()" type="button"
                                                    class="btn btn-primary btn-xs btnresponsive"><i
                                                        class="fa fa-plus"></i> Nuevo</button>
                                            </div>
                                            <div class="col-lg-2"></div>

                                        </div>
                                        <hr>
                                        <mat-tab-group>
                                            <mat-tab *ngIf="!dataEmail.length">
                                                <ng-template mat-tab-label>
                                                    <i class="fas fa-paper-plane iconTabE"></i> Enviados
                                                </ng-template>
                                                <div
                                                    class="table-responsive  table-responsive-lg table-responsive-md table-responsive-sm mt-2 scrollerOsqi2">
                                                    <table class="table table-warning table-striped table-hover"
                                                        style="font-size: 10px;">
                                                        <tbody>
                                                            <tr>
                                                                <th style="text-align:center">No hay nada en enviados.
                                                                </th>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </mat-tab>
                                            <mat-tab *ngIf="dataEmail.length">
                                                <ng-template mat-tab-label>
                                                    <i class="fas fa-paper-plane iconTabE"></i>Enviados
                                                </ng-template>

                                                <div class="container-fluid">
                                                    <div class="row">
                                                        <div class="col-xs-8">
                                                            <mat-checkbox [checked]="eCheckedAll(0)"
                                                                (change)="seleccionarTodo($event,0)"> Seleccionar Todo.
                                                            </mat-checkbox>
                                                        </div>
                                                        <div id="myDIV" class="col-3">1</div>
                                                        <div  *ngIf="deleteE" class="col-xs-1">
                                                            <i (click)="borrarE(0)"
                                                                class="fas fa-trash btn text-danger"></i>
                                                        </div>

                                                    </div>
                                                </div>

                                                <div
                                                    class="table-responsive  table-responsive-lg table-responsive-md table-responsive-sm mt-2 scrollerOsqi2">
                                                    <table class="table table-success table-striped table-hover"
                                                        style="font-size: 10px;">
                                                        <tbody *ngFor="let email of dataEmail ; let c = index">
                                                            <tr (click)="borrarMat2()" *ngIf="email.status <= 0"
                                                                class="p-1 puntero" (click)="genEmails(email)">
                                                                <th>
                                                                    <div>
                                                                        <mat-checkbox [checked]="email.checked"
                                                                            (change)="getEmailId($event, 0,email)">
                                                                        </mat-checkbox>
                                                                    </div>
                                                                </th>
                                                                <th>{{email.asunto}}</th>
                                                                <th>{{email.creacion | date: "dd/MM/yyyy'"}}</th>
                                                            </tr>



                                                        </tbody>
                                                    </table>
                                                </div>
                                            </mat-tab>

                                            <mat-tab *ngIf="!dataEmailP.length">
                                                <ng-template mat-tab-label>
                                                    <i class="fas fa-paper-plane iconTabE"></i> Programados
                                                </ng-template>
                                                <div
                                                    class="table-responsive table-responsive-lg table-responsive-md table-responsive-sm mt-2 scrollerOsqi2">
                                                    <table class="table table-warning table-striped table-hover"
                                                        style="font-size: 10px;">
                                                        <tbody>
                                                            <tr>
                                                                <th style="text-align:center">No hay nada en
                                                                    programados.</th>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </mat-tab>
                                            <mat-tab *ngIf="dataEmailP.length">
                                                <ng-template mat-tab-label>
                                                    <i class="fas fa-clock iconTabE"></i> Programados
                                                </ng-template>
                                                <div class="container-fluid">
                                                    <div class="row">
                                                        <div class="col-xs-8">
                                                            <mat-checkbox [checked]="eCheckedAll(1)"
                                                                (change)="seleccionarTodo($event,1)"> Seleccionar Todo.
                                                            </mat-checkbox>
                                                        </div>
                                                        <div class="col-3"></div>
                                                        <div *ngIf="deleteE" class="col-xs-1">
                                                            <i (click)="borrarE(1)"
                                                                class="fas fa-trash btn text-danger"></i>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div
                                                    class="table-responsive table-responsive-lg table-responsive-md table-responsive-sm mt-2 scrollerOsqi2">
                                                    <table class="table table-warning table-striped table-hover"
                                                        style="font-size: 10px;">
                                                        <tbody *ngFor="let emailP of dataEmailP; let c = index">
                                                            <tr *ngIf="emailP.status >= 1" class="p-1 puntero"
                                                                (click)="genEmails(emailP)">
                                                                <th>
                                                                    <div>
                                                                        <mat-checkbox (click)="borrarMat()"
                                                                            [checked]="emailP.checked"
                                                                            (change)="getEmailId($event,1,emailP)">
                                                                        </mat-checkbox>
                                                                    </div>
                                                                </th>
                                                                <th>{{emailP.asunto}}</th>
                                                                <th>{{emailP.creacion | date: "dd/MM/yyyy'"}}</th>
                                                            </tr>

                                                        </tbody>
                                                        <!--<pre *ngIf="emailContact2">{{emailContact2 | json}}</pre>-->
                                                    </table>
                                                </div>
                                            </mat-tab>
                                        </mat-tab-group>
                                    </div>
                                    <ng-container *ngIf="emailsele != undefined">

                                        <div class="col-lg-9" *ngIf="!otrapantalla">
                                            <div id="pruebaC" class="textdecor" style="font-size: 22px;">
                                                <b>{{emailsele.asunto}}</b>
                                            </div>
                                            <div class="mt-1 text-primary" style="font-size: 12px;">
                                                {{emailsele.creacion | date:'medium'}}</div>
                                            <div class="mt-1" style="font-size: 11px;"><b>Para: {{
                                                    emailsele.contacto.email}}</b></div>
                                            <hr class="m-0 mt-1">

                                            <div class="scrollhor mt-2">
                                                <div *ngFor="let nPdf of archivosPdf" class="contenedorE">
                                                    <div *ngIf="nuvoPdf == nPdf.email.id "
                                                        class="info-box bg-blue adjuntoE">
                                                        <span class="info-box-icon "><i
                                                                class="fas fa-file-word"></i></span>
                                                        <div class="mb-auto mt-auto ContenedorTextE"
                                                            style="font-size: 12px;">
                                                            <b>{{nPdf.archivo | slice: 37}}</b>
                                                        </div>
                                                        <div class="mb-auto mt-auto btn text-white">
                                                            <i class="fas fa-trash  " style="font-size: 11px;"></i>
                                                        </div>
                                                    </div>
                                                </div>


                                            </div>
                                            <hr>
                                            <div class="row mt-5">
                                                <div class="col-lg-1"></div>
                                                <div  class="col-lg-10">
                                                    <div class="elevation-2 bg-light rounded p-4"
                                                        style="font-size: 12px; text-align: justify;">
                                                        <b>

                                                            <div class="mt-3 "
                                                                [ngxSummernoteView]="emailsele.descripcion ">

                                                            </div>
                                                        </b>
                                                        <ng-container *ngIf="firmasele != undefined">
                                                            <br>
                                                            <br>
                                                            <div class="mt-3 textCarl"
                                                                [ngxSummernoteView]="firmasele.descripcion ">
                                                            </div>
                                                            <br>
                                                            <img *ngIf="firmasele?.archivo != ''"
                                                                src="{{urlPdfs}}{{firmasele.archivo}}" style="width:100%;
                                                            height:auto" class="card-img-top"
                                                                alt="{{firmasele.archivo | slice: 37}}">
                                                        </ng-container>
                                                    </div>
                                                </div>

                                                <div class="col-lg-1"></div>
                                            </div>
                                        </div>
                                    </ng-container>


                                    <div class="col-lg-9" *ngIf="otrapantalla">
                                        <form [formGroup]="formEmail">
                                            <ng-container *ngIf="nuevoCliente != undefined">

                                                <div class="textdecor" style="font-size: 17px;"> <b>Para:
                                                        {{nuevoCliente.email }}</b></div>
                                            </ng-container>

                                            <div class="row col-lg-12 text-center">
                                                <div class="col-lg-6">
                                                    <mat-form-field class="anchoE " style="font-size: 12px;">
                                                        <mat-label>Asunto:</mat-label>
                                                        <input formControlName="asunto" matInput>
                                                    </mat-form-field>
                                                </div>
                                                <!--<div class="col-lg-6">
                                                    <mat-form-field class="anchoE" style="font-size: 12px;">
                                                        <mat-label>CC:</mat-label>
                                                        <input matInput>
                                                    </mat-form-field>
                                                </div>-->
                                            </div>

                                            <div class="row col-lg-12 ">
                                                <div class="col-lg-3 mb-auto mt-auto">
                                                    <div class="uploaD  btn-xsP elevation-1 btnresponsive">
                                                        <input (change)="save($event)" type="file" id="ArchivoEmail"
                                                            class="subirE" value="">
                                                        <i class="fas fa-paperclip"></i> Adjuntar archivo
                                                    </div>
                                                </div>
                                                <div class="col-lg-9 mb-auto mt-auto">
                                                    <div class="scrollhor contenedor">
                                                        <div *ngFor="let aFirma of archivosFirma; let i = index"
                                                            class="contenedorE">
                                                            <div *ngIf="aFirma.tipoAr == '.docx' || aFirma.tipoAr == '.doc' || aFirma.tipoAr == '.txt' "
                                                                class="info-box bg-blue adjuntoE">
                                                                <span class="info-box-icon"><i
                                                                        class="fas fa-file-pdf"></i></span>
                                                                <div class="mb-auto mt-auto ContenedorTextE"
                                                                    style="font-size: 12px;">
                                                                    <b>{{aFirma.name}}</b>
                                                                </div>
                                                                <div class="mb-auto mt-auto  btn text-white">
                                                                    <i (click)="deleteArchivo(i)"
                                                                        class="fas fa-trash "
                                                                        style="font-size: 11px;"></i>
                                                                </div>
                                                            </div>

                                                            <div *ngIf="aFirma.tipoAr == '.pdf'"
                                                                class="info-box bg-red adjuntoE">
                                                                <span class="info-box-icon"><i
                                                                        class="fas fa-file-pdf"></i></span>
                                                                <div class="mb-auto mt-auto ContenedorTextE"
                                                                    style="font-size: 12px;">
                                                                    <b>{{aFirma.name}}</b>
                                                                </div>
                                                                <div class="mb-auto mt-auto  btn text-white">
                                                                    <i (click)="deleteArchivo(i)"
                                                                        class="fas fa-trash "
                                                                        style="font-size: 11px;"></i>
                                                                </div>
                                                            </div>

                                                            <div *ngIf="aFirma.tipoAr == '.xlsx' || aFirma.tipoAr == '.xls'  "
                                                                class="info-box bg-green adjuntoE">
                                                                <span class="info-box-icon"><i
                                                                        class="fas fa-file-excel"></i></span>
                                                                <div class="mb-auto mt-auto ContenedorTextE"
                                                                    style="font-size: 12px;">
                                                                    <b>{{aFirma.name}}</b>
                                                                </div>
                                                                <div class="mb-auto mt-auto btn text-white">
                                                                    <i (click)="deleteArchivo(i)"
                                                                        class="fas fa-trash"
                                                                        style="font-size: 11px;"></i>
                                                                </div>
                                                            </div>

                                                            <div *ngIf="aFirma.tipoAr == '.pptx' || aFirma.tipoAr == '.ppsx' || aFirma.tipoAr == '.pps'"
                                                                class="info-box bg-orange adjuntoE ">
                                                                <span class="info-box-icon"><i
                                                                        class="fas fa-file-powerpoint"></i></span>
                                                                <div class="mb-auto mt-auto ContenedorTextE"
                                                                    style="font-size: 12px;">
                                                                    <b>{{aFirma.name}}</b>
                                                                </div>
                                                                <div class="mb-auto mt-auto  btn">
                                                                    <i (click)="deleteArchivo(i)"
                                                                        class="fas fa-trash "
                                                                        style="font-size: 11px;"></i>
                                                                </div>
                                                            </div>

                                                            <div *ngIf="aFirma.tipoAr == '.jpg' || aFirma.tipoAr == '.jpeg' || aFirma.tipoAr == '.svg' || aFirma.tipoAr == '.ico' || aFirma.tipoAr == '.gif' || aFirma.tipoAr == '.png'"
                                                                class="info-box bg-light adjuntoE ">
                                                                <span class="info-box-icon"><i
                                                                        class="fas fa-file-image"></i></span>
                                                                <div class="mb-auto mt-auto ContenedorTextE"
                                                                    style="font-size: 12px;">
                                                                    <b>{{aFirma.name}}</b>
                                                                </div>
                                                                <div class="mb-auto mt-auto  btn">
                                                                    <i (click)="deleteArchivo(i)"
                                                                        class="fas fa-trash "
                                                                        style="font-size: 11px;"></i>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <hr class="m-0">
                                            <div class="mt-2">

                                                <div formControlName="descripcion" [ngxSummernote]="correo4"></div>
                                            </div>
                                            <div class="row col-lg-12 text-center">
                                                <div class="col-lg-3 mt-auto mb-auto">
                                                    <div class="accordion" id="accordionExample">
                                                        <div class="collapsed" data-toggle="collapse"
                                                            data-target="#collapseTwo" aria-expanded="false"
                                                            aria-controls="collapseTwo">
                                                            <button
                                                                class="btn btn-xs btn-light elevation-1 btnresponsive"><i
                                                                    class="fas fa-pen-alt"></i> Gestionar
                                                                firmas</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 mb-auto mt-auto">
                                                    <mat-form-field class="anchoE">
                                                        <mat-label style="font-size: 12px;">Mis Firmas</mat-label>

                                                        <mat-select formControlName="firma" disableRipple
                                                            style="font-size: 12px;">
                                                            <mat-option [value]="sFirma.id"
                                                                *ngFor="let sFirma of showFirma">{{sFirma.nombre}}

                                                            </mat-option>

                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                                <!--<pre *ngIf="showFirma">{{showFirma | json}}</pre>-->


                                                <div class="col-lg-3"></div>
                                                <div class="btn-group btnresponsive col-lg-3 mb-auto mt-auto"
                                                    role="group" aria-label="Basic example">

                                                    <button (click)="envioEmail()" [disabled]="!formEmail.valid"
                                                        class="btn btn-xs btn-primary "><i
                                                            class="fas fa-paper-plane"></i> Enviar</button>


                                                    <button data-toggle="collapse" data-target="#Programado"
                                                        aria-expanded="false" aria-controls="collapse3" type="button"
                                                        class="btn btn-xs btn-warning"><i
                                                            class="fas fa-clock"></i></button>
                                                </div>
                                            </div>
                                            <div id="collapseTwo" class="collapse col-lg-12"
                                                aria-labelledby="headingOne" data-parent="#accordionExample">
                                                <div class="card bg-light">
                                                    <div class="card-body ">
                                                        <mat-tab-group mat-align-tabs="center">
                                                            <mat-tab>
                                                                <ng-template mat-tab-label>
                                                                    <i class="fas fa-pen-alt iconTabE"
                                                                        style="font-size: 22px;"></i> Crear firma
                                                                </ng-template>
                                                                <form [formGroup]="formFirma">
                                                                    <div class="row col-lg-12">
                                                                        <div class="col-lg-5">
                                                                            <mat-form-field class=" anchoE"
                                                                                style="font-size: 12px;">
                                                                                <mat-label>Nombre de firma:
                                                                                </mat-label>
                                                                                <input formControlName="nombre"
                                                                                    matInput>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div class="col-lg-5"></div>
                                                                        <div class="col-lg-2  mb-auto mt-auto">
                                                                            <div
                                                                                class="uploaD  btn-xsP elevation-1 btnresponsive">
                                                                                <input (change)="updateF($event)"
                                                                                    type="file" id="Firmas"
                                                                                    accept=".jpg,.png"
                                                                                    class="subirE" value="">
                                                                                <i class="fas fa-paperclip"></i>
                                                                                Subir Imagen
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="mt-2">
                                                                        <div class="mt-2">
                                                                            <div formControlName="descripcion"
                                                                                [ngxSummernote]="correo5"></div>
                                                                        </div>
                                                                    </div>
                                                                </form>
                                                                <hr>
                                                                <div class="float-right mt-auto mb-auto">
                                                                    <button (click)="saveFirmas()"
                                                                        [disabled]="!formFirma.valid"
                                                                        class="btn btn-xs btn-primary btnresponsive">Guardar</button>
                                                                </div>
                                                            </mat-tab>
                                                            <mat-tab>
                                                                <form [formGroup]="updaFirma">
                                                                    <ng-template mat-tab-label>
                                                                        <i class="fas fa-edit iconTabE"
                                                                            style="font-size: 22px;"></i> Editar firmas
                                                                    </ng-template>
                                                                    <div class="row col-lg-12">
                                                                        <div class="col-lg-4"></div>
                                                                        <div class="col-lg-4">
                                                                            <mat-form-field class="anchoE">
                                                                                <mat-label style="font-size: 12px;">
                                                                                    Elige entre tus firmas
                                                                                </mat-label>
                                                                                <mat-select formControlName="firma"
                                                                                    (selectionChange)="onEditClick($event.value)"
                                                                                    disableRipple
                                                                                    style="font-size: 12px;">
                                                                                    <mat-option
                                                                                        *ngFor="let firmasE of showFirma"
                                                                                        [value]="firmasE.id">
                                                                                        {{firmasE.nombre}}
                                                                                    </mat-option>

                                                                                </mat-select>
                                                                            </mat-form-field>
                                                                        </div>
                                                                        <div class="col-lg-2"></div>
                                                                        <div class="col-lg-2 mb-auto mt-auto">
                                                                            <div
                                                                                class="uploaD  btn-xsP elevation-1 btnresponsive">
                                                                                <input (change)="updateF($event)"
                                                                                    type="file" id="Firmas"
                                                                                    class="subirE" value="">
                                                                                <i class="fas fa-paperclip"></i>
                                                                                Subir Imagen
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <hr class="m-0">
                                                                    <ng-container *ngIf="firmaEmail != undefined">
                                                                        <div class="mt-2">

                                                                            <div *ngIf="!btnActulizar" class="form-group">
                                                                                <label
                                                                                    for="exampleInputEmail1">Asigna
                                                                                    un nombre a la nueva
                                                                                    firma</label>
                                                                                <input formControlName="nombre"
                                                                                    type="text" class="form-control"
                                                                                    [value]="nombreEditFirma">

                                                                            </div>
                                                                            <div>
                                                                               
                                                                                <div 
                                                                                    class="border p-3"
                                                                                    formControlName="descripcion"
                                                                                    [ngxSummernote]="correoEdit">

                                                                                </div>
                                                                                <hr>
                                                                                <br>
                                                                                <div class="float-right mt-auto mb-auto">
                                                                                    <button [disabled]="!updaFirma.valid"
                                                                                        (click)="updateFirmas()"
                                                                                        class="btn btn-xs btn-primary btnresponsive">Actualizar</button>
                                                                                </div>
                                                                                <div *ngIf="!btnActulizar"
                                                                                    class="card w-100 p-3">
                                                                                    <div class="card-body"
                                                                                        style="width: auto; margin: auto auto;">
                                                                                       <!-- <div *ngIf="firmaEmail?.descripcion"
                                                                                            class="border p-3"
                                                                                            [ngxSummernoteView]="firmaEmail.descripcion">

                                                                                        </div>-->
                                                                                        <img *ngIf="firmaEmail?.archivo"
                                                                                            src="{{urlPdfs}}{{firmaEmail.archivo}}"
                                                                                            style="width:100%;
                                                            height:auto" class="card-img-top"
                                                                                            alt="{{firmaEmail.archivo | slice: 37}}">

                                                                                    </div>
                                                                                </div>
                                                                                <!--<div [ngxSummernote]="correo6" ></div>-->
                                                                            </div>

                                                                        </div>
                                                                    </ng-container>
                                                                    <hr>                                                                   
                                                                </form>
                                                            </mat-tab>
                                                        </mat-tab-group>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="Programado" class="collapse col-lg-12" aria-labelledby="headingOne"
                                                data-parent="#accordionExample">
                                                <form [formGroup]="formemailPro">
                                                    <div class="card bg-light">
                                                        <div class="card-body ">
                                                            <div class="textdecor" style="font-size: 14px;">
                                                                <b>Enviar para el día:</b>
                                                            </div>
                                                            <div class="mt-2">
                                                                <div class="row col-lg-12">
                                                                    <div class="col-lg-6 mt-auto mb-auto">
                                                                        <input formControlName="fecha_programado"
                                                                            class="form-control form-control-sm"
                                                                            type="date" id="start" name="trip-start"
                                                                            value="2020-07-22" min="{{validaDia}}"
                                                                            max="2022-12-31">
                                                                    </div>
                                                                    <div class="col-lg-6 mt-auto mb-auto">
                                                                        <div class="row col-lg-12 text-center">
                                                                            <div class="col-lg-6">
                                                                                <select
                                                                                    formControlName="hora_programado"
                                                                                    class="form-control form-control-sm">
                                                                                    <option value="Hora">Hora
                                                                                    </option>
                                                                                    <option [value]="Hrs"
                                                                                        *ngFor="let Hrs of listaHrs">
                                                                                        {{Hrs}}</option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-lg-6">
                                                                                <select
                                                                                    formControlName="minuto_programado"
                                                                                    class="form-control form-control-sm">
                                                                                    <option value="Minuto">Minuto
                                                                                    </option>
                                                                                    <option [value]="mtos"
                                                                                        *ngFor="let mtos of listaMnts">
                                                                                        {{mtos}}</option>
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <hr>
                                                            <div class="float-right"><button (click)="horaPro()"
                                                                    [disabled]="formemailPro.invalid || formemailPro.controls['hora_programado'].value == 'Hora' || formemailPro.controls['minuto_programado'].value == 'Minuto' "
                                                                    class="btn btn-xs btn-primary"
                                                                    style="width: 130px;">Programar</button></div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                        </mat-tab>
                    </ng-container>





                    <!-- /.cuerpo del email -->

                    <!-- cuerpo de whats-->
                    <ng-container *ngIf="nuevoCliente != undefined">
                        <mat-tab *ngIf="nuevoCliente.telefono">
                            <ng-template mat-tab-label>
                                <i class="fab fa-whatsapp text-success mr-1"></i>
                                <span>WhatsApp</span>
                            </ng-template>
                            <!--------------------------------cuerpo de whats  ---------------------------------------------------------->


                            <form [formGroup]="formTems">
                                <div class="col-12">
                                    <div class="row" style="background-color: #eeeeee">
                                        <div class="col-lg-8 col-sm-12" style="font-size: 12px">
                                            <div class="card cardutline direct-chat mb-0"
                                                style="background-color: #eeeeee">
                                                <div class="card-header" style="background-color: #025f57">
                                                    <ng-container *ngIf="nuevoCliente != undefined">
                                                        <div class="row">
                                                            <img *ngIf="nuevoCliente.img"
                                                                src="{{urlImgC}}{{nuevoCliente.img}}" class="img-circle"
                                                                style="width: 25px; height: 25px" class="img-circle">
                                                            <img *ngIf="!nuevoCliente.img"
                                                                src="./assets/views_ayuda/dist/img/nouser.png"
                                                                class="img-circle" style="width: 25px; height: 25px"
                                                                class="img-circle">
                                                            <label class="card-title pl-3 text-white">
                                                                {{ nuevoCliente.expositor.nombre_comercial }}
                                                            </label>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                                <!-- /.card-header -->
                                                <div class="card-body fondo scrolwhtas" style="height: 440px">
                                                    <div class="row message-body"
                                                        *ngFor="let cliente of tTratar; let i = index">
                                                        <div class="col-sm-12 message-main-sender">
                                                            <div class="sender">
                                                                <div>
                                                                    {{ cliente.temas }}
                                                                </div>
                                                                <button type="button" class="close" (click)="btn(i)">
                                                                    <span class="text-danger small"><i
                                                                            class="far fa-trash-alt"></i></span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row message-body"
                                                        *ngFor="let pdfs of Pdf; let i = index">
                                                        <div class="col-sm-12 message-main-sender">
                                                            <div class="sender">
                                                                <div class="message-text">
                                                                    <div class="card">
                                                                        <div class="card-body p-2">
                                                                            <div class="row">
                                                                                <div class="col-1">
                                                                                    <i *ngIf="pdfs.tipoAr == '.pdf' "
                                                                                        class="far fa-file-pdf text-primary text-xl"></i>
                                                                                    <i *ngIf="pdfs.tipoAr == '.docx' "
                                                                                        class="far fa-file-word text-primary text-xl"></i>
                                                                                    <i *ngIf="pdfs.tipoAr == '.xls' "
                                                                                        class="far fa-file-excel text-primary text-xl"></i>
                                                                                </div>
                                                                                <div class="col-11 text-right"
                                                                                    style="font-size: 9px">
                                                                                    {{ pdfs.name }}
                                                                                    <i class="fas fa-paperclip"></i>
                                                                                    <div class="text-right">
                                                                                        <span class=""><b>{{
                                                                                                pdfs.size
                                                                                                }}</b></span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <button type="button" class="close"
                                                                    (click)="deletePdf(i)">
                                                                    <span class="text-danger small"><i
                                                                            class="far fa-trash-alt"></i></span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <!-- <div></div> -->
                                                        <!-- <pre *ngIf="Pdf">
                                {{Pdf | json}}
                                </pre>  -->
                                                    </div>

                                                    <!-- Conversations are loaded here -->
                                                </div>
                                                <!-- /.card-body -->
                                                <div class="card-footer">
                                                    <div class="row">
                                                        <div class="input-group input-group-sm col-11">
                                                            <input type="text" name="message"
                                                                placeholder="Escribir mensaje ..." class="form-control"
                                                                formControlName="descripcion" [(ngModel)]="textoDeInput"
                                                                [ngClass]="{
                                    'is-invalid':
                                      formTems.controls['descripcion'].invalid &&
                                      formTems.controls['descripcion'].dirty
                                  }" />
                                                            <span class="text-danger small" *ngIf="
                                    formTems.controls['descripcion'].invalid &&
                                    formTems.controls['descripcion'].dirty
                                  "></span>
                                                            <span class="input-group-append">
                                                                <div>
                                                                    <button *ngIf="textoDeInput" (click)="AgregaP()"
                                                                        class="btn btn-primary btn-sm fa fa-paper-plane"
                                                                        style="height: 30px"></button>
                                                                </div>
                                                            </span>
                                                        </div>
                                                        <div class="col-1 text-right">
                                                            <!--adjuntar archivos-->
                                                            <div class="btn btn-secondary btn-sm btn-file">
                                                                <i class="fas fa-paperclip"></i>
                                                                <input (change)="handleFileSelect($event)" type="file"
                                                                    #attachment id="uploadCaptureInputFile"
                                                                    name="attachment"
                                                                    accept="application/pdf,application/vnd.ms-excel"
                                                                    multiple="true" />
                                                            </div>
                                                        </div>
                                                        <!--./adjuntar archivos-->
                                                    </div>
                                                </div>
                                                <!-- /.card-footer-->
                                            </div>
                                            <!--------------------------------Boton de enviar y programar  ---------------------------------------------------------->
                                            <div class="row float-right pt-2">
                                                <div class="text-center mr-2 ml-2">
                                                    <button *ngIf="!envioY" type="submit"
                                                        [disabled]="tTratar.length == 0 && Pdf.length == 0"
                                                        (click)="mostrardatetime()" class="btn btn-warning btn-sm"
                                                        id="pro">
                                                        <i class="fa fa-clock" aria-hidden="true"></i>
                                                        Programar
                                                    </button>
                                                </div>
                                                <div class="text-center mr-2 ml-2">
                                                    <button *ngIf="envioY" type="submit" (click)="ocultardatetime()"
                                                        class="btn btn-danger btn-sm" id="cancelar">
                                                        <i class="far fa-times-circle" aria-hidden="true"></i>
                                                    </button>
                                                </div>
                                                <div class="text-center mr-2">
                                                    <button *ngIf="!envioY"
                                                        [disabled]="tTratar.length == 0 && Pdf.length == 0"
                                                        (click)="envioYa()" type="submit" class="btn btn-primary btn-sm"
                                                        id="eY">
                                                        <i class="fa fa-paper-plane" aria-hidden="true"></i>
                                                        Enviar
                                                    </button>
                                                </div>
                                                <div class="text-center mr-2">
                                                    <button *ngIf="envioY" [disabled]="formTems.invalid"
                                                        (click)="envioP()" type="submit" class="btn btn-primary btn-sm"
                                                        id="eP">
                                                        <i class="fa fa-paper-plane" aria-hidden="true"></i>
                                                        Enviar
                                                    </button>
                                                </div>
                                                <button *ngIf="loadPdf" class="btn btn-primary btn-sm"
                                                    style="width: 180px;" type="button" disabled>
                                                    <span class="spinner-border spinner-border-sm" role="status"
                                                        aria-hidden="true"></span>
                                                    cargando PDF ...
                                                </button>
                                            </div>
                                            <!--------------------------------/.Boton de enviar y programar   ---------------------------------------------------------->
                                            <div id="datetime">
                                                <!--input fecha y hora-->
                                                <div class="row pt-2">
                                                    <div class="col-6">
                                                        <input class="form-control form-control-sm"
                                                            formControlName="fecha_programado" type="date" id="start"
                                                            name="trip-start" value="{{validaDia}}" min="{{validaDia}}"
                                                            max="2021-12-31" [ngClass]="{
                                  'is-invalid':
                                    formTems.controls['fecha_programado'].invalid &&
                                    formTems.controls['fecha_programado'].dirty
                                }" />
                                                        <span class="text-danger small" *ngIf="
                                  formTems.controls['fecha_programado'].invalid &&
                                  formTems.controls['fecha_programado'].dirty
                                "></span>
                                                    </div>
                                                    <div class="col-6">
                                                        <input class="form-control form-control-sm"
                                                            formControlName="hora_programado" type="time" id="appt"
                                                            name="appt" min="09:00" max="18:00" required [ngClass]="{
                                  'is-invalid':
                                    formTems.controls['hora_programado'].invalid &&
                                    formTems.controls['hora_programado'].dirty
                                }" />
                                                        <span class="text-danger small" *ngIf="
                                  formTems.controls['hora_programado'].invalid &&
                                  formTems.controls['hora_programado'].dirty
                                "></span>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/.fecha y hora-->
                                        </div>
                                        <!-------------------------------- /. col-8 termina la primera parte---------------------------------------------------------->
                                        <!--------------------------------col-4 historial segunda parte ---------------------------------------------------------->
                                        <div class="col-lg-4 col-sm-12 border-right">
                                            <div class="text-center fixed bg-dark">
                                                <i class="fas fa-history"></i> Historial
                                            </div>
                                            <div class="card bg-light">
                                                <div class="card-body scrolHistorial fondo shadow"
                                                    style="height: 560px">
                                                    <!-- <!--------------------------------imagen ---------------------------------------------------------- -->
                                                    <div *ngIf="fechasH?.length == 0">
                                                        <img class="w-100" src="./assets/img_prospectos/embudo04.png"
                                                            style="width: 70%" alt="" />
                                                    </div>
                                                    <!-- ------------------------------/.imagen ---------------------------------------------------------->
                                                    <div class="timeline">
                                                        <div class="timeline p-0 m-0" *ngFor="let fecha of fechasH">
                                                            <!--div que encierra -->
                                                            <div class="elevation-1 border text-center"
                                                                style="font-size: 12px; background-color: #e0f3fa">
                                                                <!--fecha -->
                                                                <b>{{ fecha }}</b>
                                                            </div>
                                                            <!--./fecha -->
                                                            <div *ngFor="let sms of getSmsWFecha(fecha)">
                                                                <!--icono de whtas y  cuerpo de mensaje  -->
                                                                <i *ngIf="sms.status >= 1"
                                                                    class="fab fa-whatsapp bg-primary"></i>
                                                                <i *ngIf="sms.status <= 0"
                                                                    class="fas fa-clock bg-warning"></i>
                                                                <i *ngIf="sms.tipo >= 1"
                                                                    class="fas fa-paperclip bg-danger"
                                                                    aria-hidden="true"></i>
                                                                <div class="timeline-item" style="
                                      font-size: 12px;
                                      background-color: #e2ffc7;
                                    ">
                                                                    <span class="time"><i class="fas fa-clock"></i>
                                                                        {{ sms.creacion | date: "HH:mm" }}</span>
                                                                    <div *ngIf="sms.tipo <= 0" class="timeline-header"
                                                                        style="font-size: 12px">
                                                                        {{ sms.descripcion }}
                                                                    </div>
                                                                    <div *ngIf="sms.tipo >= 1" class="timeline-item"
                                                                        style="
                                        font-size: 12px;
                                        background-color: #e2ffc7;
                                      ">
                                                                        <div class="timeline-header"
                                                                            style="font-size: 10px;">
                                                                            <img src="./assets/sms/img/pdf.png"
                                                                                style="width: 25px; height: 35px"
                                                                                alt="{{ sms.descripcion | slice: 37}}" />
                                                                            <label class="ml-1"> {{ sms.descripcion
                                                                                | slice: 37}}</label>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!--./ fin primer mensaje -->
                                                        </div>
                                                        <!--./div que encierra -->
                                                    </div>
                                                    <!-- /. time-lime-->
                                                </div>
                                                <!-- /. card-body-->
                                            </div>
                                            <!-- /. card-->
                                        </div>
                                        <!-- /. col-4-->
                                        <!--------------------------------./historial ---------------------------------------------------------->
                                    </div>
                                    <!-- /. row-->
                                </div>
                                <!-- /.col-12 -->
                            </form>


                            <!-- /.cuerpo de whats -->
                            <!-- /.cuerpo de whats -->


                            <!-- /.card-body -->
                        </mat-tab>
                    </ng-container>
                </mat-tab-group>
            </div>
            <!-- modal-content -->
        </div>
    </div>
    <!--Fin Modal Carlos-->
    <!-- fin Modal Carlos -->
</section>


<!-----------------------------------------------------------------------------------MODAL----------------------------------------------------------------------------------------------------------------------------------------->
<div class="modal" id="modal-lg01">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">

            <div class="modal-header bg-gradient-dark">
                <div><i class="fas fa-user-edit"></i> Editar Expositor</div>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"
                    id="btnCloseModalExpositor">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="textdecor" style="font-size: 14px;"> <b>Información General</b></div>
                <div class="row text-center">
                    <div class="col-lg-8 mt-2">
                        <div class="row text-center mt-3" style="font-size: 12px;">

                            <div class="col-lg-3">
                                <mat-form-field class="ancho">
                                    <mat-label>Razón social</mat-label>
                                    <input type="text" matInput [(ngModel)]="razonSocial" maxlength="250">
                                </mat-form-field>

                            </div>
                            <div class="col-lg-3">
                                <mat-form-field class=" ancho">
                                    <mat-label>Nombre comercial</mat-label>
                                    <input matInput type="text" [(ngModel)]="nombreComercial" maxlength="250">
                                </mat-form-field>

                            </div>
                            <div class="col-lg-6">
                                <mat-form-field class=" ancho">
                                    <mat-label>Dirección </mat-label>
                                    <input type="text" [(ngModel)]="direccion" maxlength="250" matInput>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="row text-center" style="font-size: 12px;">
                            <div class="col-lg-3">
                                <mat-form-field class=" ancho">
                                    <mat-label>RFC </mat-label>
                                    <input type="text" [(ngModel)]="rfc" (focusout)="verificarRfcEdit($event)"
                                        maxlength="20" matInput>
                                </mat-form-field>

                            </div>
                            <div class="col-lg-3">
                                <mat-form-field class=" ancho">
                                    <mat-label>Teléfono </mat-label>
                                    <input type="tel" matInput [(ngModel)]="telefono"
                                        onkeyup="this.value=this.value.replace(/[^\d]/,'')" minlength="10"
                                        maxlength="15">
                                </mat-form-field>
                            </div>
                            <div class="col-lg-3">
                                <mat-form-field class="ancho">
                                    <mat-label>Teléfono 2</mat-label>
                                    <input type="tel" matInput [(ngModel)]="telefono2"
                                        onkeyup="this.value=this.value.replace(/[^\d]/,'')" minlength="10"
                                        maxlength="15">
                                </mat-form-field>
                            </div>
                            <div class="col-lg-3">
                                <mat-form-field class=" ancho">
                                    <mat-label>Correo </mat-label>
                                    <input type="email" [(ngModel)]="correo" maxlength="180" matInput>
                                </mat-form-field>

                            </div>
                            <div class="col-lg-3">
                                <mat-form-field class=" ancho">
                                    <mat-label>Página web </mat-label>
                                    <input type="text" [(ngModel)]="paginaWeb" maxlength="250" matInput>
                                </mat-form-field>
                            </div>
                            <div class="col-lg-3">
                                <mat-form-field class=" ancho">
                                    <mat-label>Pais </mat-label>
                                    <input type="text" maxlength="250" matInput [formControl]="paisEditar"
                                        [matAutocomplete]="pais">
                                    <mat-autocomplete autoActiveFirstOption #pais="matAutocomplete">
                                        <mat-option *ngFor="let option of filteredOptionsPaisEditar | async"
                                            [value]="option">
                                            {{option}}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>
                            <div class="col-lg-3">
                                <mat-form-field class=" ancho">
                                    <mat-label>Estado </mat-label>
                                    <input type="text" maxlength="250" matInput [formControl]="estadoEditar"
                                        [matAutocomplete]="auto">
                                    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                        <mat-option *ngFor="let option of filteredOptionsEstadoEditar | async"
                                            [value]="option">
                                            {{option}}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>
                            <div class="col-lg-3">
                                <div id="imgEditExpositor">
                                    <span class="btn btn-primary btn-file btn-xs mt-3">
                                        <i class="fas fa-camera"></i> Subir logo<input type="file"
                                            id="subirImgEditExpositor" accept="image/*"
                                            (change)="seleccionarFotoEditExpositor($event)">

                                    </span>
                                </div>
                                <div id="elimImgEditExpositor" style="display: none;" class="mt-3">
                                    <button class="btn btn-xs btn-outline-danger" (click)="borrarImgEditExpo()">Eliminar
                                        imagen</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="card bg-light">
                            <div class="card-body">
                                <div class="mt-2"> <b>{{nombreComercial}}</b></div>
                                <div class="mt-2" style="font-size: 14px;">{{direccion}}</div>
                                <a href="{{paginaWeb}}">{{paginaWeb}}</a>
                                <div class="mt-2" style="font-size: 12px;">{{telefono}} <b>//</b> {{telefono2}}</div>
                                <div class="mt-2" style="font-size: 12px;">{{correo}}</div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="textdecor" style="font-size: 14px;"> <b>Acerca de la Empresa</b></div>
                <div class="row text-center">
                    <div class="col-lg-1"></div>
                    <div class="col-lg-4 mb-auto mt-auto" style="font-size: 12px;">
                        <mat-form-field class="ancho">
                            <mat-label>Escribe algo</mat-label>
                            <textarea [(ngModel)]="acercaDe" maxlength="500" matInput
                                style="resize: vertical; max-height: 150px; height: 80px; min-height: 50px;"></textarea>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-1"></div>
                    <div class="col-lg-5 mb-auto mt-auto" style="font-size: 12px; text-align: justify;">
                        <div class="scrollerOsqi04 bg-light rounded elevation-2 p-3">
                            {{acercaDe}}
                        </div>
                    </div>
                    <div class="col-lg-1"></div>
                </div>
                <hr>
                <div class="text-center mt-3">
                    <button type="button" class="btn btn-xs btn-primary text-white" style="width: 150px;"
                        [disabled]="!razonSocial || !nombreComercial" (click)="updateExpositor()">Guardar</button>
                </div>
            </div>

        </div>
    </div>
</div>

<!-----------------------------------------------------------------------------------MODAL2----------------------------------------------------------------------------------------------------------------------------------------->
<div class="modal" id="modal-lg">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <div class="modal-header bg-gradient-dark">
                <div><i class="fas fa-user-edit"></i> Asignar Vendedor</div>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"
                    id="btnCloseVendedor">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="row" id="vendedorAsignado">
                    <div class="col-lg-2"></div>
                    <div class="col-lg-8" *ngFor="let vende of relacionVendedor">
                        <div class="callout callout-success bg-light elevation-2 ">
                            <div style="font-size: 12px;">Este cliente ya cuenta con vendedor asignado:</div>
                            <div class="row">
                                <div class="col-lg-9" style="font-size: 11px;">
                                    <div class="mt-2"><b>{{vende.vendedor.nombre}} </b></div>
                                    <div><b> {{vende.vendedor.telefono}}</b></div>
                                    <div><b> {{vende.vendedor.email}}</b></div>
                                </div>
                                <div class="col-lg-3 text-center mt-2"><img
                                        src="./assets/views_ayuda/dist/img/nouser.png" style="width: 55px;">
                                </div>
                            </div>
                        </div>
                        <div class="float-right"><button class="btn btn-xs btn-danger mb-2" style="width: 130px;"
                                (click)="eliminarRelacion(vende.id)">Cancelar
                                Asignación</button></div>
                    </div>
                    <div class="col-lg-2"></div>
                </div>

                <div id="asignarVendedor">
                    <div class="text-muted text-center" style="font-size: 12px;">Asignar vendedor</div>
                    <div class="row text-center mt-3">
                        <div class="col-lg-2"></div>
                        <div class="col-lg-8">
                            <select [(ngModel)]="selectVendedores" class="form-control form-control-sm">
                                <option value="0">Selecciona</option>
                                <option *ngFor="let vend of vendedores" value="{{vend.id}}">{{vend.nombre}}</option>
                            </select>
                        </div>
                        <div class="col-lg-2"></div>
                    </div>
                    <div class="float-right mt-3"><button class="btn btn-xs btn-primary" style="width: 130px;"
                            [disabled]="selectVendedores == 0">Guardar</button></div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal" id="modal-lg05">
    <div class="modal-dialog modal-xl ">
        <div class="modal-content modal">
            <div class="modal-header bg-gradient-dark">
                <div><i class="fas fa-user-edit"></i> Editar Contacto</div>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"
                    id="btnCloseModalContacto">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body ">
                <div class="row col-lg-12 text-center mt-3" style="font-size: 12px;">
                    <div class="col-lg-2 mt-auto mb-auto">
                        <div id="btnSubirFoto">
                            <span class="btn btn-primary btn-file btn-sm">
                                <i class="fas fa-camera"></i> Subir foto<input type="file" id="subirImg"
                                    accept="image/*" (change)="seleccionarFoto($event)">
                            </span>
                        </div>
                        <div id="btnEliminarFoto" style="display: none;">
                            <button class="btn btn-sm btn-outline-danger" (click)="borrarImgInciG()">Eliminar
                                imagen</button>
                        </div>
                    </div>
                    <div class="col-lg-3 mt-auto mb-auto">
                        <mat-form-field class="ancho">
                            <mat-label>Nombre </mat-label>
                            <input [(ngModel)]="nombreEditContacto" type="text" required maxlength="100" matInput>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-3 mt-auto mb-auto">
                        <mat-form-field class="ancho">
                            <mat-label>Puesto </mat-label>
                            <input [(ngModel)]="puestoEditContacto" type="text" maxlength="200" matInput>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-2 mt-auto mb-auto">
                        <mat-form-field class="ancho">
                            <mat-label>Whatsapp (LADA + TEL)</mat-label>
                            <input [(ngModel)]="telefonoEditContacto" type="text"
                                onkeyup="this.value=this.value.replace(/[^\d]/,'')" minlength="10" maxlength="15"
                                matInput>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-2 mt-auto mb-auto">
                        <mat-form-field class="ancho">
                            <mat-label>Correo </mat-label>
                            <input [(ngModel)]="emailEditContacto" type="email" maxlength="100" matInput>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-lg-3"></div>
                    <div class="col-lg-6">
                        <div class="card-body bg-light elevation-2 p-1">
                            <div class="row text-center">

                                <div class="col-lg-4  mb-auto mt-auto" style="font-size:10px">
                                    <div class="ContenedorText" style="font-size: 12px;"><b>{{nombreEditContacto}}</b>
                                    </div>
                                    <div class="ContenedorText"><b>{{puestoEditContacto}}</b></div>
                                </div>
                                <div class="col-lg-4  mb-auto mt-auto" style="font-size:11px">
                                    <i class="fab fa-whatsapp" style="font-size: 18px;"></i>
                                    <div class="ml-2"><b> {{telefonoEditContacto}}</b></div>
                                </div>
                                <div class="col-lg-4  mb-auto mt-auto" style="font-size:11px">
                                    <i class="far fa-envelope" style="font-size: 18px;"></i>
                                    <div class="ml-2"><b> {{emailEditContacto}}</b></div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3"></div>
                </div>
                <hr>
                <div class="text-center mt-3">
                    <button *ngIf="telefonoEditContacto" class="btn btn-xs btn-primary" style="width: 100px;"
                        [disabled]="!nombreEditContacto || !telefonoEditContacto"
                        (click)="updateContacto()">Guardar</button>
                    <button *ngIf="!telefonoEditContacto" class="btn btn-xs btn-primary" style="width: 100px;"
                        [disabled]="!nombreEditContacto" (click)="updateContacto()">Guardar</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!----------------------------------------------REGISTRAR CONTACTO-------------------------------------------------->
<div class="modal" id="modal-lg06">
    <div class="modal-dialog modal-xl ">
        <div class="modal-content modal">
            <div class="modal-header bg-gradient-dark">
                <div><i class="fas fa-user-edit"></i> Nuevo Contacto</div>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close"
                    id="btnCloseModalSaveContacto">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body ">
                <form name="formularioContactoSave" #fCS="ngForm">
                    <div class="row col-lg-12 text-center mt-3" style="font-size: 12px;">
                        <div class="col-lg-2 mt-auto mb-auto">
                            <div id="imgContactoExpositorSave">
                                <span class="btn btn-primary btn-file btn-xs">
                                    <i class="fas fa-camera"></i> Subir foto<input type="file"
                                        id="subirImgContactoExpositorSave" accept="image/*"
                                        (change)="seleccionarFotoContactoSave($event)">
                                </span>
                            </div>
                            <div id="elimImgContactoExpositorSave" style="display: none;">
                                <button class="btn btn-xs btn-outline-danger"
                                    (click)="borrarImgContactoSave()">Eliminar</button>
                            </div>
                        </div>
                        <div class="col-lg-3 mb-auto mt-auto">
                            <mat-form-field class="ancho">
                                <mat-label>Nombre</mat-label>
                                <input required matInput name="contactoSaveNombre" ngModel maxlength="100">
                                <mat-error *ngIf="formCS.controls['contactoSaveNombre'].errors.required">El
                                    nombre es requerido.</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-lg-3 mb-auto mt-auto">
                            <mat-form-field class="ancho">
                                <mat-label>Puesto</mat-label>
                                <input matInput name="contactoSavePuesto" ngModel maxlength="100">
                            </mat-form-field>
                        </div>
                        <div class="col-lg-2 mb-auto mt-auto">
                            <mat-form-field class="ancho">
                                <mat-label>WhatsApp (LADA + TEL)</mat-label>
                                <input matInput name="contactoSaveWhats" ngModel
                                    onkeyup="this.value=this.value.replace(/[^\d]/,'')" minlength="10" maxlength="15">
                            </mat-form-field>
                        </div>
                        <div class="col-lg-2 mt-2">
                            <mat-form-field class="ancho">
                                <mat-label>Correo</mat-label>
                                <input matInput name="contactoSaveCorreo" ngModel maxlength="100">
                            </mat-form-field>
                        </div>
                    </div>
                    <hr>
                    <div class="text-center mt-3"><button class="btn btn-xs btn-primary" style="width: 100px;"
                            [disabled]="!fCS.valid" (click)="saveContacto(fCS)">Guardar</button></div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="modal-lg07">
    <div class="modal-dialog modal-xl ">
        <div class="modal-content modal">
            <div class="modal-header bg-gradient-dark ">
                <div><i class="fas fa-calendar-check"></i> Calendarizar actividad</div>
                <button type="button" class="close text-white" id="btnCloseCalendario" data-dismiss="modal"
                    aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body ">
                <div class="text-center text-muted" style="font-size: 12px;">
                    Para calendizar una actividad selecciona una lista de actividades existente o puedes crear una nueva
                </div>
                <hr>
                <div class="row text-center col-lg-12">
                    <div class="col-lg-2 mb-auto mt-auto">
                        <ng-container *ngIf="clienteSeleccionado">
                            <img class="galeria img-circle elevation-2" src="{{urlImgEx}}{{clienteSeleccionado.logo}}">
                        </ng-container>

                    </div>
                    <div class="col-lg-5 text-center mb-auto mt-auto">
                        <ng-container *ngIf="clienteSeleccionado">
                            <div><b>{{clienteSeleccionado.nombre_comercial}}</b></div>
                            <div class="text-secondary text-xs"><b>Telefono 1:</b> {{clienteSeleccionado.telefono}}
                            </div>
                            <div class="text-secondary text-xs"><b>Telefono 2:</b> {{clienteSeleccionado.telefono2}}
                            </div>
                            <div class="text-secondary text-xs"><b>Correo:</b> {{clienteSeleccionado.email}}</div>
                        </ng-container>
                    </div>
                    <div class="col-lg-3 mb-auto mt-auto">
                        <mat-form-field class="ancho" style="font-size: 1px; ">
                            <mat-select [(ngModel)]="selectListas" style="font-size: 11px;"
                                (selectionChange)="changeListas($event)">
                                <mat-option [value]="0">Selecciona una lista</mat-option>
                                <mat-option *ngFor="let lista of listCalendario" [value]="lista.id">
                                    {{lista.titulo}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-2 mb-auto mt-auto">
                        <button class="btn btn-xs btn-success elevation-1 btnresponsive" (click)="newLista()"><i
                                class="fas fa-plus"></i> Crear lista</button>
                    </div>
                </div>

                <div id="crearLista" class="mt-3" style="display: none;">
                    <div class="card bg-light">
                        <div class="card-body text-center" style="font-size: 13px;">
                            <div class="row">
                                <div class="col-lg-6">
                                    <mat-form-field class="example-form-field ancho" style="font-size: 12px;">
                                        <input matInput [(ngModel)]="tituloLista" placeholder="Título de lista">
                                    </mat-form-field>
                                </div>
                                <div class="col-lg-6">
                                    <span class="material-icons text-xl {{selectedColor.class}}"
                                        style="border-radius: 50%; font-size: 20px; line-height: 50px; text-align: center; top: 0; width: 50px;">
                                        {{selectedIcon.icon}}</span>
                                </div>
                            </div>
                            <hr>
                            <div class="textdecor" style="font-size: 13px;">
                                <b>
                                    Elige un color:
                                </b>
                            </div>
                            <div class="btn-group mt-3 text-center" style="width: 100%; margin-bottom: 2px;">

                                <ul class="fc-color-picker">
                                    <li *ngFor="let item of coloresForm">
                                        <a class="text-{{item.name}} hoverBtnEx" (click)="asignColor(item)"><i
                                                class="fas fa-square"></i></a>
                                    </li>
                                </ul>
                            </div>
                            <hr>
                            <div class="mt-3 textdecor" style="font-size: 13px;">
                                <b>
                                    Elige un ícono:
                                </b>
                            </div>
                            <div class="btn-group mt-3 text-center" style="width: 100%; margin-bottom: 10px;">
                                <ul class="fc-color-picker">
                                    <li *ngFor="let item of iconosForm">
                                        <a (click)="asignIcon(item)"><span class="material-icons text-xl"
                                                [ngClass]="{'text-warning': item.selected, 'text-gray':!item.selected}">{{item.icon}}</span></a>
                                    </li>
                                </ul>
                            </div>
                            <div class="mt-2 text-right">
                                <button class="btn btnresponsive btn-xs btn-success mt-auto mb-auto"
                                    (click)="saveNewLista()" [disabled]="!tituloLista">Listo!</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="crearEvento" class="mt-2">
                    <div class="ml-2 mr-2">
                        <div class="mb-2">
                            <mat-form-field class="ancho">
                                <mat-label>Título</mat-label>
                                <input matInput required [(ngModel)]="tituloTarea" />
                            </mat-form-field>
                        </div>
                        <div class="form-group mb-2">
                            <mat-form-field class="ancho">
                                <mat-label>Notas</mat-label>
                                <textarea style="height: 35px;" matInput [(ngModel)]="notas"></textarea>
                            </mat-form-field>
                        </div>
                        <div class="form-group mb-2">
                            <div class="row">
                                <div class="col-11">
                                    <mat-form-field class="ancho">
                                        <mat-label>Subtareas</mat-label>
                                        <input matInput [(ngModel)]="subtarea" />
                                    </mat-form-field>
                                </div>
                                <div class="col-1 text-left">
                                    <button class="btn mt-auto mb-auto ml-auto mr-auto" [disabled]="!subtarea"
                                        (click)="AgreagarSubTarea(1)">
                                        <i class="fas fa-plus-circle fa-lg"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="row" *ngIf="listSubtarea.length>0">
                                <div class="col-lg-12">
                                    <div
                                        class="table-responsive table-bordered table-responsive-lg table-responsive-md table-responsive-sm scrollerTablaActividad">
                                        <table class="table table-bordered table-hover table-sm small text-center"
                                            style="font-size: 11px;">
                                            <tbody>
                                                <tr class="font-weight-bold">
                                                    <td>No.</td>
                                                    <td>Subtarea</td>
                                                    <th><i class="fas fa-trash-alt"></i></th>
                                                </tr>
                                                <ng-container *ngFor="let item of listSubtarea;  let i=index;">
                                                    <tr>
                                                        <td>{{i+1}}</td>
                                                        <th>{{item.titulo}}</th>
                                                        <th class="text-danger"><i class="fas fa-trash-alt"
                                                                (click)="deleteSubTarea(i,1)"></i></th>
                                                    </tr>
                                                </ng-container>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mb-2">
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                            Fecha:
                            <input class="form-control form-control-sm" type="date" id="start" name="trip-start"
                                min="{{minDate}}" max="{{maxDate}}" [(ngModel)]="fecha" />
                        </div>
                        <div class="mb-2">
                            <i class="fas fa-clock" aria-hidden="true"></i>
                            Hora:
                            <input class="form-control form-control-sm" type="time" id="appt" name="appt" min="09:00"
                                max="18:00" required [(ngModel)]="hora" />
                        </div>
                        <div class="text-info mb-2">
                            <div class="btn btn-default bg-ligth btn-sm btn-file">
                                <i class="fas fa-image"></i> Subir imagen
                                <input type="file" id="subirEvidenciaCalendario" name="attachment"
                                    (change)="seleccionarFotoTarea($event,1)" />
                            </div>
                        </div>
                        <div class="mb-2">
                            <div class="imgContainerModal">
                                <ng-container *ngFor="let item of picturesAdded">
                                    <div class="borderImg ml-1 mr-1">
                                        <img class="imgNuevaTarea" src="{{item}}">
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="text-center mt-3"><button class="btn btn-xs btn-primary btnresponsive"
                        [disabled]="selectListas == 0 || formularioLista == true || !fecha || !hora || !tituloTarea"
                        (click)="addEvento(1)">Guardar</button>
                </div>
            </div>
        </div>
    </div>
</div>